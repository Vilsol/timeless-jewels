var Ll=Object.defineProperty;var Nl=(t,e,l)=>e in t?Ll(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var ye=(t,e,l)=>(Nl(t,typeof e!="symbol"?e+"":e,l),l);import{s as it,r as gt,f as T,a as J,g as C,h as O,d as w,c as q,j as y,k as Ke,i as D,D as A,H as St,I as Ee,u as pt,v as vt,w as bt,F as Ze,J as Ol,o as kl,K as At,L as Dl,M as H,p as lt,y as Qe,N as Il,e as Se,A as yl,z as b,l as Y,x as ge,m as X,n as Re,G as st,E as xe,O as be,B as Rt,C as $e,P as Pt,Q as zt}from"../chunks/scheduler.a4661fe7.js";import{S as nt,i as rt,a as F,t as G,g as Ve,c as je,b as Je,d as qe,m as Ue,e as Be,f as Mt}from"../chunks/index.0ccbc0e6.js";import{e as Me,u as Vl,o as jl,g as Jl,S as yt}from"../chunks/navigation.2afacbd7.js";import{r as ql,h as Ul}from"../chunks/singletons.666b9a25.js";import{b as Bl,a as Ye,d as Tt,t as Lt,c as tt,o as Nt,e as kt,f as Ot,i as Dt,g as Vt,h as Fl,j as jt,k as El,m as ft,n as Hl,s as Kl,p as Yl}from"../chunks/worker.3485415b.js";import{c as Tl,d as le}from"../chunks/index.098253ec.js";import{p as Xl}from"../chunks/stores.645ecc02.js";const Cl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;class Gl{constructor(){ye(this,"currentLayerId");ye(this,"setups");ye(this,"renderers");ye(this,"dispatchers");ye(this,"needsSetup");ye(this,"needsRedraw");ye(this,"context");ye(this,"width");ye(this,"height");ye(this,"autoclear");ye(this,"pixelRatio");ye(this,"renderLoop");ye(this,"layerObserver");ye(this,"layerRef");ye(this,"layerSequence");ye(this,"renderingLayerId");ye(this,"activeLayerId");ye(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:e,render:l,dispatcher:s}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,l),this.dispatchers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.dispatchers.delete(e),this.needsRedraw=!0}setup(e,l){this.context=e,this.layerRef=l,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const e=[...this.layerRef.children];this.layerSequence=e.map(l=>+(l.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var i;const e=this.context,l=this.width,s=this.height,n=this.pixelRatio;if(this.needsSetup){for(const[r,u]of this.setups)u({context:e,width:l,height:s}),this.setups.delete(r);this.needsSetup=!1}if(this.needsRedraw){e.setTransform(n,0,0,n,0,0),this.autoclear&&e.clearRect(0,0,l,s);for(const r of this.layerSequence)this.renderingLayerId=r,(i=this.renderers.get(r))==null||i({context:e,width:l,height:s});this.needsRedraw=!1}}setActiveLayer(e,l){this.activeLayerId!==e&&(l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",l)),this.dispatchLayerEvent(new MouseEvent("mouseleave",l))),this.activeLayerId=e,this.activeLayerDispatcher=this.dispatchers.get(e),l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",l)),this.dispatchLayerEvent(new MouseEvent("mouseenter",l))))}dispatchLayerEvent(e){if(this.activeLayerDispatcher){if(window.TouchEvent&&e instanceof TouchEvent){const{left:l,top:s}=e.target.getBoundingClientRect(),{clientX:n,clientY:i}=e.changedTouches[0],r={x:n-l,y:i-s,originalEvent:e};this.activeLayerDispatcher(e.type,r)}else if(e instanceof MouseEvent){const l={x:e.offsetX,y:e.offsetY,originalEvent:e};this.activeLayerDispatcher(e.type,l)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const Wl=t=>{const e=t*2,l=e>>16&255,s=e>>8&255,n=e&255;return`rgb(${l}, ${s}, ${n})`},Ql=(t,e,l)=>{const s=(t<<16|e<<8|l)/2;return s%1?0:s},Zl=["drawImage"],xl=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],$l=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],es=t=>{let e;const l=document.createElement("canvas"),s=l.getContext("2d",{willReadFrequently:!0}),n=()=>{l.width=t.canvas.width,l.height=t.canvas.height};return new MutationObserver(n).observe(t.canvas,{attributeFilter:["width","height"]}),n(),new Proxy(t,{get(r,u){if(u==="_getLayerIdAtPixel")return(o,h)=>{const[g,m,_]=s.getImageData(o,h,1,1).data;return Ql(g,m,_)};const a=r[u];return typeof a!="function"?a:function(...o){if($l.includes(u)){const h=Wl(e());s.fillStyle=h,s.strokeStyle=h}if(u==="drawImage"){const h=o.slice(1);s.fillRect(...h)}return Zl.includes(u)||Reflect.apply(a,s,o),Reflect.apply(a,r,o)}},set(r,u,a){return u==="_renderingLayerId"?(e=a,!0):(r[u]=a,xl.includes(u)||(s[u]=a),!0)}})};function ts(t){let e,l,s,n=`${t[0]}px`,i=`${t[1]}px`,r,u,a,o,h;const g=t[18].default,m=gt(g,t,t[17],null);return{c(){e=T("canvas"),r=J(),u=T("div"),m&&m.c(),this.h()},l(_){e=C(_,"CANVAS",{width:!0,height:!0,class:!0,style:!0}),O(e).forEach(w),r=q(_),u=C(_,"DIV",{});var c=O(u);m&&m.l(c),c.forEach(w),this.h()},h(){y(e,"width",l=t[0]*t[5]),y(e,"height",s=t[1]*t[5]),y(e,"class",t[4]),y(e,"style",t[2]),Ke(e,"display","block"),Ke(e,"width",n),Ke(e,"height",i),Ke(u,"display","none")},m(_,c){D(_,e,c),t[64](e),D(_,r,c),D(_,u,c),m&&m.m(u,null),t[65](u),a=!0,o||(h=[A(e,"touchstart",St(function(){Ee(t[3]?t[9]:null)&&(t[3]?t[9]:null).apply(this,arguments)})),A(e,"mousemove",function(){Ee(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),A(e,"pointermove",function(){Ee(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),A(e,"click",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"contextmenu",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"dblclick",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mousedown",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseenter",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseleave",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseup",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"wheel",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"touchcancel",St(function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"touchend",St(function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"touchmove",St(function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"pointerenter",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerleave",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerdown",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerup",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointercancel",function(){Ee(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"focus",t[19]),A(e,"blur",t[20]),A(e,"fullscreenchange",t[21]),A(e,"fullscreenerror",t[22]),A(e,"scroll",t[23]),A(e,"cut",t[24]),A(e,"copy",t[25]),A(e,"paste",t[26]),A(e,"keydown",t[27]),A(e,"keypress",t[28]),A(e,"keyup",t[29]),A(e,"auxclick",t[30]),A(e,"click",t[31]),A(e,"contextmenu",t[32]),A(e,"dblclick",t[33]),A(e,"mousedown",t[34]),A(e,"mouseenter",t[35]),A(e,"mouseleave",t[36]),A(e,"mousemove",t[37]),A(e,"mouseover",t[38]),A(e,"mouseout",t[39]),A(e,"mouseup",t[40]),A(e,"select",t[41]),A(e,"wheel",t[42]),A(e,"drag",t[43]),A(e,"dragend",t[44]),A(e,"dragenter",t[45]),A(e,"dragstart",t[46]),A(e,"dragleave",t[47]),A(e,"dragover",t[48]),A(e,"drop",t[49]),A(e,"touchcancel",t[50]),A(e,"touchend",t[51]),A(e,"touchmove",t[52]),A(e,"touchstart",t[53]),A(e,"pointerover",t[54]),A(e,"pointerenter",t[55]),A(e,"pointerdown",t[56]),A(e,"pointermove",t[57]),A(e,"pointerup",t[58]),A(e,"pointercancel",t[59]),A(e,"pointerout",t[60]),A(e,"pointerleave",t[61]),A(e,"gotpointercapture",t[62]),A(e,"lostpointercapture",t[63])],o=!0)},p(_,c){t=_,(!a||c[0]&33&&l!==(l=t[0]*t[5]))&&y(e,"width",l),(!a||c[0]&34&&s!==(s=t[1]*t[5]))&&y(e,"height",s),(!a||c[0]&16)&&y(e,"class",t[4]),(!a||c[0]&4)&&y(e,"style",t[2]);const f=c[0]&4;f&&Ke(e,"display","block"),(f||c[0]&5&&n!==(n=`${t[0]}px`))&&Ke(e,"width",n),(f||c[0]&6&&i!==(i=`${t[1]}px`))&&Ke(e,"height",i),m&&m.p&&(!a||c[0]&131072)&&pt(m,g,t,t[17],a?bt(g,t[17],c,null):vt(t[17]),null)},i(_){a||(F(m,_),a=!0)},o(_){G(m,_),a=!1},d(_){_&&(w(e),w(r),w(u)),t[64](null),m&&m.d(_),t[65](null),o=!1,Ze(h)}}}const Al=Symbol(),ls=()=>Dl(Al);function ss(t,e,l){let s,{$$slots:n={},$$scope:i}=e,{width:r=640,height:u=640,pixelRatio:a=null,style:o="",autoclear:h=!0,layerEvents:g=!1}=e,{class:m=""}=e,_,c=null,f;const d=new Gl;function v(){d.redraw()}function k(){return _}function I(){return c}a==null&&(typeof window<"u"?a=window.devicePixelRatio:a=2),Ol(Al,{register:d.register,unregister:d.unregister,redraw:d.redraw}),kl(()=>{const S=_.getContext("2d");g?(c=es(S),c._renderingLayerId=d.getRenderingLayerId):c=S,d.setup(c,f)}),At(()=>d.destroy());const R=S=>{const dt=S.offsetX*s,mt=S.offsetY*s,E=c._getLayerIdAtPixel(dt,mt);d.setActiveLayer(E,S),d.dispatchLayerEvent(S)},P=S=>{const{clientX:dt,clientY:mt}=S.changedTouches[0],{left:E,top:$}=_.getBoundingClientRect(),ve=(dt-E)*s,we=(mt-$)*s,_e=c._getLayerIdAtPixel(ve,we);d.setActiveLayer(_e,S),d.dispatchLayerEvent(S)},z=S=>{window.TouchEvent&&S instanceof TouchEvent&&S.preventDefault(),d.dispatchLayerEvent(S)};function M(S){H.call(this,t,S)}function L(S){H.call(this,t,S)}function V(S){H.call(this,t,S)}function j(S){H.call(this,t,S)}function B(S){H.call(this,t,S)}function W(S){H.call(this,t,S)}function Q(S){H.call(this,t,S)}function he(S){H.call(this,t,S)}function Te(S){H.call(this,t,S)}function re(S){H.call(this,t,S)}function ee(S){H.call(this,t,S)}function Ce(S){H.call(this,t,S)}function ze(S){H.call(this,t,S)}function ke(S){H.call(this,t,S)}function U(S){H.call(this,t,S)}function ie(S){H.call(this,t,S)}function ne(S){H.call(this,t,S)}function N(S){H.call(this,t,S)}function p(S){H.call(this,t,S)}function Z(S){H.call(this,t,S)}function ae(S){H.call(this,t,S)}function se(S){H.call(this,t,S)}function de(S){H.call(this,t,S)}function te(S){H.call(this,t,S)}function pe(S){H.call(this,t,S)}function me(S){H.call(this,t,S)}function Le(S){H.call(this,t,S)}function ce(S){H.call(this,t,S)}function K(S){H.call(this,t,S)}function x(S){H.call(this,t,S)}function oe(S){H.call(this,t,S)}function ue(S){H.call(this,t,S)}function Fe(S){H.call(this,t,S)}function Oe(S){H.call(this,t,S)}function Xe(S){H.call(this,t,S)}function fe(S){H.call(this,t,S)}function Ie(S){H.call(this,t,S)}function He(S){H.call(this,t,S)}function De(S){H.call(this,t,S)}function Pe(S){H.call(this,t,S)}function Ne(S){H.call(this,t,S)}function at(S){H.call(this,t,S)}function ct(S){H.call(this,t,S)}function ht(S){H.call(this,t,S)}function ot(S){H.call(this,t,S)}function ut(S){lt[S?"unshift":"push"](()=>{_=S,l(6,_)})}function Et(S){lt[S?"unshift":"push"](()=>{f=S,l(7,f)})}return t.$$set=S=>{"width"in S&&l(0,r=S.width),"height"in S&&l(1,u=S.height),"pixelRatio"in S&&l(11,a=S.pixelRatio),"style"in S&&l(2,o=S.style),"autoclear"in S&&l(12,h=S.autoclear),"layerEvents"in S&&l(3,g=S.layerEvents),"class"in S&&l(4,m=S.class),"$$scope"in S&&l(17,i=S.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&l(5,s=a??1),t.$$.dirty[0]&1&&l(16,d.width=r,d),t.$$.dirty[0]&2&&l(16,d.height=u,d),t.$$.dirty[0]&32&&l(16,d.pixelRatio=s,d),t.$$.dirty[0]&4096&&l(16,d.autoclear=h,d),t.$$.dirty[0]&71683&&d.redraw()},[r,u,o,g,m,s,_,f,R,P,z,a,h,v,k,I,d,i,n,M,L,V,j,B,W,Q,he,Te,re,ee,Ce,ze,ke,U,ie,ne,N,p,Z,ae,se,de,te,pe,me,Le,ce,K,x,oe,ue,Fe,Oe,Xe,fe,Ie,He,De,Pe,Ne,at,ct,ht,ot,ut,Et]}class is extends nt{constructor(e){super(),rt(this,e,ss,ts,it,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function ns(t){let e;return{c(){e=T("div"),this.h()},l(l){e=C(l,"DIV",{"data-layer-id":!0}),O(e).forEach(w),this.h()},h(){y(e,"data-layer-id",t[0])},m(l,s){D(l,e,s)},p:Qe,i:Qe,o:Qe,d(l){l&&w(e)}}}function rs(t,e,l){const{register:s,unregister:n,redraw:i}=ls(),r=Il();let{setup:u=void 0}=e,{render:a=()=>{}}=e;const o=s({setup:u,render:a,dispatcher:r});return At(()=>n(o)),t.$$set=h=>{"setup"in h&&l(1,u=h.setup),"render"in h&&l(2,a=h.render)},t.$$.update=()=>{t.$$.dirty&4&&i()},[o,u,a]}class as extends nt{constructor(e){super(),rt(this,e,rs,ns,it,{setup:1,render:2})}}let Jt;const Rl=Date.now(),Pl=t=>(t(Date.now()-Rl),Jt=window.requestAnimationFrame(()=>Pl(t)),()=>window.cancelAnimationFrame(Jt));function os(){}const us=ql(Date.now()-Rl,typeof window>"u"?os:Pl),{window:Ct}=Cl;function qt(t){let e,l,s,n,i,r;l=new is({props:{width:t[0],height:t[1],$$slots:{default:[fs]},$$scope:{ctx:t}}}),l.$on("pointerdown",t[5]),l.$on("wheel",t[8]);const u=t[26].default,a=gt(u,t,t[27],null);return{c(){e=T("div"),Je(l.$$.fragment),s=J(),a&&a.c(),this.h()},l(o){e=C(o,"DIV",{style:!0});var h=O(e);qe(l.$$.fragment,h),s=q(h),a&&a.l(h),h.forEach(w),this.h()},h(){Ke(e,"touch-action","none"),Ke(e,"cursor",t[2])},m(o,h){D(o,e,h),Ue(l,e,null),b(e,s),a&&a.m(e,null),n=!0,i||(r=A(e,"resize",t[9]),i=!0)},p(o,h){const g={};h[0]&1&&(g.width=o[0]),h[0]&2&&(g.height=o[1]),h[0]&134217736&&(g.$$scope={dirty:h,ctx:o}),l.$set(g),a&&a.p&&(!n||h[0]&134217728)&&pt(a,u,o,o[27],n?bt(u,o[27],h,null):vt(o[27]),null),(!n||h[0]&4)&&Ke(e,"cursor",o[2])},i(o){n||(F(l.$$.fragment,o),F(a,o),n=!0)},o(o){G(l.$$.fragment,o),G(a,o),n=!1},d(o){o&&w(e),Be(l),a&&a.d(o),i=!1,r()}}}function fs(t){let e,l;return e=new as({props:{render:t[3]}}),{c(){Je(e.$$.fragment)},l(s){qe(e.$$.fragment,s)},m(s,n){Ue(e,s,n),l=!0},p(s,n){const i={};n[0]&8&&(i.render=s[3]),e.$set(i)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){G(e.$$.fragment,s),l=!1},d(s){Be(e,s)}}}function cs(t){let e,l,s,n,i=t[0]&&t[1]&&qt(t);return{c(){i&&i.c(),e=Se()},l(r){i&&i.l(r),e=Se()},m(r,u){i&&i.m(r,u),D(r,e,u),l=!0,s||(n=[A(Ct,"pointerup",t[6]),A(Ct,"pointermove",t[7]),A(Ct,"resize",t[9])],s=!0)},p(r,u){r[0]&&r[1]?i?(i.p(r,u),u[0]&3&&F(i,1)):(i=qt(r),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Ve(),G(i,1,1,()=>{i=null}),je())},i(r){l||(F(i),l=!0)},o(r){G(i),l=!1},d(r){r&&w(e),i&&i.d(r),s=!1,Ze(n)}}}const Ut="25px Roboto Mono",Bt="17px Roboto Mono",Ft=2.6;function hs(t,e,l){let s,n,i,{$$slots:r={},$$scope:u}=e,{clickNode:a}=e,{circledNode:o}=e,{selectedJewel:h}=e,{selectedConqueror:g}=e,{seed:m}=e,{highlighted:_=[]}=e,{disabled:c=[]}=e,{highlightJewels:f=!1}=e;const d=Ul(us,p=>(!_||!_.length)&&!f?0:Math.round(p/40));yl(t,d,p=>l(25,i=p));const v=[427,320,226,227,323,422,329];let k=10,I=0,R=0;const P={},z={},M=(p,Z,ae,se=!1,de=!1)=>{let te=se?Fl[Z]:jt[Z];!te&&se&&(te=jt[Z]);const pe=te.filename;pe in(se?z:P)||((se?z:P)[pe]=new Image,(se?z:P)[pe].src=pe);const me=te.coords[Z],Le=me.w/k*Ft,ce=me.h/k*Ft,K=ae.x-Le/2,x=ae.y-ce/2;let oe=x;de&&(oe=x-ce/2),p.drawImage((se?z:P)[pe],me.x,me.y,me.w,me.h,K,oe,Le,ce),de&&(p.save(),p.translate(K,x),p.rotate(Math.PI),p.drawImage((se?z:P)[pe],me.x,me.y,me.w,me.h,-Le,-(ce/2),Le,-ce),p.restore())},L=(p,Z,ae)=>{const se=[];let de="";return p.split(" ").forEach(te=>{Z.measureText(de+te).width<ae?de+=" "+te:(se.push(de.trim()),de=te)}),de.length>0&&se.push(de.trim()),se};let V={x:Number.MIN_VALUE,y:Number.MIN_VALUE},j="unset",B,W=0,Q=0,he=0,Te=0,re=!1;const ee=p=>{re=!0,W=p.offsetX,Q=p.offsetY,he=I,Te=R,l(21,V={x:p.offsetX,y:p.offsetY}),B&&a(B)},Ce=p=>{p.type==="pointerup"&&(re=!1),l(21,V={x:p.offsetX,y:p.offsetY})},ze=p=>{re&&(l(19,I=he-(W-p.offsetX)*k),l(20,R=Te-(Q-p.offsetY)*k)),l(21,V={x:p.offsetX,y:p.offsetY})},ke=p=>{p.deltaY>0?k<30&&(l(19,I+=p.offsetX),l(20,R+=p.offsetY)):k>3&&(l(19,I-=p.offsetX),l(20,R-=p.offsetY)),l(18,k=Math.min(30,Math.max(3,k+p.deltaY/100))),p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation()};let U=0,ie=0;const ne=()=>{l(0,U=window.innerWidth),l(1,ie=window.innerHeight)};let N=!1;return t.$$set=p=>{"clickNode"in p&&l(10,a=p.clickNode),"circledNode"in p&&l(11,o=p.circledNode),"selectedJewel"in p&&l(12,h=p.selectedJewel),"selectedConqueror"in p&&l(13,g=p.selectedConqueror),"seed"in p&&l(14,m=p.seed),"highlighted"in p&&l(15,_=p.highlighted),"disabled"in p&&l(16,c=p.disabled),"highlightJewels"in p&&l(17,f=p.highlightJewels),"$$scope"in p&&l(27,u=p.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&262144&&l(24,s=Bl/k),t.$$.dirty[0]&8650752&&(!N&&Ye&&(l(23,N=!0),l(19,I=Ye.min_x+window.innerWidth/2*k),l(20,R=Ye.min_y+window.innerHeight/2*k)),ne()),t.$$.dirty[0]&58718208&&l(3,n=({context:p,width:Z,height:ae})=>{const se=window.performance.now();p.clearRect(0,0,Z,ae),p.fillStyle="#080c11",p.fillRect(0,0,Z,ae);const de={};Object.keys(Tt).forEach(ce=>{const K=Tt[ce],x=Lt(K.x,K.y,I,R,k),oe=Math.max(...K.orbits);v.indexOf(parseInt(ce))>=0||(oe==1?M(p,"PSGroupBackground1",x,!1):oe==2?M(p,"PSGroupBackground2",x,!1):(oe==3||K.orbits.length>1)&&M(p,"PSGroupBackground3",x,!1,!0))}),Object.keys(tt).forEach(ce=>{var ue;const K=tt[ce],x=Nt(K.orbit,K.orbitIndex),oe=kt(K,I,R,k);(ue=K.out)==null||ue.forEach(Fe=>{if(!tt[parseInt(Fe)])return;const Oe=Math.min(parseInt(Fe),parseInt(ce)),Xe=Math.max(parseInt(Fe),parseInt(ce)),fe=Oe+":"+Xe;if(fe in de)return;de[fe]=!0;const Ie=tt[parseInt(Fe)];if(!Ie||Ie.isMastery)return;const He=Nt(Ie.orbit,Ie.orbitIndex),De=kt(Ie,I,R,k);if(p.beginPath(),K.group!=Ie.group||K.orbit!=Ie.orbit)p.moveTo(oe.x,oe.y),p.lineTo(De.x,De.y);else{let Pe=Math.PI/180-Math.PI/180*x,Ne=Math.PI/180-Math.PI/180*He;Pe-=Math.PI/2,Ne-=Math.PI/2;const at=Math.abs(Math.max(Pe,Ne)-Math.min(Pe,Ne)),ct=at>Math.PI?Math.max(Pe,Ne):Math.min(Pe,Ne),ht=at>Math.PI?Math.min(Pe,Ne):Math.max(Pe,Ne),ot=Tt[K.group],ut=Lt(ot.x,ot.y,I,R,k);p.arc(ut.x,ut.y,Ye.constants.orbitRadii[K.orbit]/k+1,ct,ht)}p.lineWidth=6/k,p.strokeStyle="#524518",p.stroke()})});let te;o&&(te=kt(tt[o],I,R,k),p.strokeStyle="#ad2b2b");let pe=!1,me;if(Object.keys(tt).forEach(ce=>{const K=tt[ce],x=kt(K,I,R,k);let oe=0,ue=!1;o&&Ot(x,te)<s&&(ue=!0),c.indexOf(K.skill)>=0&&(ue=!1),K.isKeystone?(oe=110,M(p,K.icon,x,ue),ue?M(p,"KeystoneFrameAllocated",x,!1):M(p,"KeystoneFrameUnallocated",x,!1)):K.isNotable?(oe=70,M(p,K.icon,x,ue),ue?M(p,"NotableFrameAllocated",x,!1):M(p,"NotableFrameUnallocated",x,!1)):K.isJewelSocket?(oe=70,K.expansionJewel?M(p,"JewelSocketAltNormal",x,!1):ue?M(p,"JewelFrameAllocated",x,!1):M(p,"JewelFrameUnallocated",x,!1)):K.isMastery?M(p,K.inactiveIcon,x,ue):(oe=50,M(p,K.icon,x,ue),ue?M(p,"PSSkillFrameActive",x,!1):M(p,"PSSkillFrame",x,!1)),(_.indexOf(K.skill)>=0||f&&K.isJewelSocket)&&(p.strokeStyle=`hsl(${i}, 100%, 50%)`,p.lineWidth=3,p.beginPath(),p.arc(x.x,x.y,(oe+30)/k,0,Math.PI*2),p.stroke()),Ot(x,V)<oe/k&&(me=K,pe=ue)}),l(22,B=me),o&&(p.strokeStyle="#ad2b2b",p.lineWidth=1,p.beginPath(),p.arc(te.x,te.y,s,0,Math.PI*2),p.stroke()),B){let ce=B.name,K=(B.stats||[]).map(fe=>({text:fe,special:!1}));if(!B.isJewelSocket&&pe&&B.skill&&m&&h&&g){const fe=Tl.Calculate(le.TreeToPassive[B.skill].Index,m,h,g);fe&&("AlternatePassiveSkill"in fe&&fe.AlternatePassiveSkill&&(K=[],ce=fe.AlternatePassiveSkill.Name,"StatsKeys"in fe.AlternatePassiveSkill&&fe.AlternatePassiveSkill.StatsKeys.forEach((Ie,He)=>{const De=le.GetStatByIndex(Ie),Pe=Dt[De.ID]||"";Pe&&K.push({text:Vt(Pe,fe.StatRolls[He])||De.ID,special:!0})})),fe.AlternatePassiveAdditionInformations&&fe.AlternatePassiveAdditionInformations.forEach(Ie=>{"StatsKeys"in Ie.AlternatePassiveAddition&&Ie.AlternatePassiveAddition.StatsKeys.forEach((He,De)=>{const Pe=le.GetStatByIndex(He),Ne=Dt[Pe.ID]||"";Ne&&K.push({text:Vt(Ne,Ie.StatRolls[De])||Pe.ID,special:!0})})}))}p.font=Ut;const x=p.measureText(ce),oe=Math.max(x.width+50,600);p.font=Bt;const ue=[],Fe=30;let Oe=85;K&&K.length>0?K.forEach(fe=>{ue.length>0&&(Oe+=5),fe.text.split(`
`).forEach(Ie=>{ue.length>0&&(Oe+=10),L(Ie,p,oe-Fe).forEach(De=>{ue.push({text:De,offset:Oe,special:fe.special}),Oe+=20})})}):B.isJewelSocket&&(ue.push({text:"Click to select this socket",offset:Oe,special:!0}),Oe+=20);const Xe=55;p.fillStyle="rgba(75,63,24,0.9)",p.fillRect(V.x,V.y,oe,Xe),p.fillStyle="#ffffff",p.font=Ut,p.textAlign="center",p.fillText(ce,V.x+oe/2,V.y+35),p.fillStyle="rgba(0,0,0,0.8)",p.fillRect(V.x,V.y+Xe,oe,Oe-Xe),p.font=Bt,p.textAlign="left",ue.forEach(fe=>{fe.special?p.fillStyle="#8cf34c":p.fillStyle="#ffffff",p.fillText(fe.text,V.x+Fe/2,V.y+fe.offset)})}B&&B.isJewelSocket?l(2,j="pointer"):l(2,j="unset"),p.fillStyle="#ffffff",p.textAlign="right",p.font="12px Roboto Mono";const Le=window.performance.now();p.fillText(`${(Le-se).toFixed(1)}ms`,Z-5,17)})},[U,ie,j,n,d,ee,Ce,ze,ke,ne,a,o,h,g,m,_,c,f,k,I,R,V,B,N,s,i,r,u]}class ds extends nt{constructor(e){super(),rt(this,e,hs,cs,it,{clickNode:10,circledNode:11,selectedJewel:12,selectedConqueror:13,seed:14,highlighted:15,disabled:16,highlightJewels:17},null,[-1,-1])}}function Ht(t,e,l){const s=t.slice();return s[6]=e[l],s}function Kt(t,e,l){const s=t.slice();return s[9]=e[l],s}function Yt(t){let e,l=ft(t[9],t[6].stats[t[9]])+"",s;return{c(){e=T("li"),s=Y(l)},l(n){e=C(n,"LI",{});var i=O(e);s=X(i,l),i.forEach(w)},m(n,i){D(n,e,i),b(e,s)},p(n,i){i&2&&l!==(l=ft(n[9],n[6].stats[n[9]])+"")&&Re(s,l)},d(n){n&&w(e)}}}function Xt(t){let e,l,s=Ye.nodes[t[6].passive].name+"",n,i,r=t[6].passive+"",u,a,o,h,g,m=Me(Object.keys(t[6].stats)),_=[];for(let c=0;c<m.length;c+=1)_[c]=Yt(Kt(t,m,c));return{c(){e=T("div"),l=T("span"),n=Y(s),i=Y(" ("),u=Y(r),a=Y(")"),o=J(),h=T("ul");for(let c=0;c<_.length;c+=1)_[c].c();g=J(),this.h()},l(c){e=C(c,"DIV",{class:!0});var f=O(e);l=C(f,"SPAN",{});var d=O(l);n=X(d,s),i=X(d," ("),u=X(d,r),a=X(d,")"),d.forEach(w),o=q(f),h=C(f,"UL",{class:!0});var v=O(h);for(let k=0;k<_.length;k+=1)_[k].l(v);v.forEach(w),g=q(f),f.forEach(w),this.h()},h(){y(h,"class","list-disc pl-6 font-bold"),y(e,"class","mt-2")},m(c,f){D(c,e,f),b(e,l),b(l,n),b(l,i),b(l,u),b(l,a),b(e,o),b(e,h);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(h,null);b(e,g)},p(c,f){if(f&2&&s!==(s=Ye.nodes[c[6].passive].name+"")&&Re(n,s),f&2&&r!==(r=c[6].passive+"")&&Re(u,r),f&2){m=Me(Object.keys(c[6].stats));let d;for(d=0;d<m.length;d+=1){const v=Kt(c,m,d);_[d]?_[d].p(v,f):(_[d]=Yt(v),_[d].c(),_[d].m(h,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=m.length}},d(c){c&&w(e),st(_,c)}}}function ms(t){let e,l,s,n="Trade",i,r,u,a=t[1].seed+"",o,h,g=t[1].weight+"",m,_,c,f,d="Trade",v,k,I,R=Me(t[1].skills),P=[];for(let z=0;z<R.length;z+=1)P[z]=Xt(Ht(t,R,z));return{c(){e=T("div"),l=T("div"),s=T("button"),s.textContent=n,i=J(),r=T("div"),u=Y("Seed "),o=Y(a),h=Y(" (weight "),m=Y(g),_=Y(")"),c=J(),f=T("button"),f.textContent=d,v=J();for(let z=0;z<P.length;z+=1)P[z].c();this.h()},l(z){e=C(z,"DIV",{class:!0});var M=O(e);l=C(M,"DIV",{class:!0});var L=O(l);s=C(L,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-1wpptz2"&&(s.textContent=n),i=q(L),r=C(L,"DIV",{class:!0});var V=O(r);u=X(V,"Seed "),o=X(V,a),h=X(V," (weight "),m=X(V,g),_=X(V,")"),V.forEach(w),c=q(L),f=C(L,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(f)!=="svelte-1ji53d9"&&(f.textContent=d),L.forEach(w),v=q(M);for(let j=0;j<P.length;j+=1)P[j].l(M);M.forEach(w),this.h()},h(){y(s,"class","px-3 invisible"),y(r,"class","font-bold text-orange-500 text-center"),y(f,"class","px-3 bg-blue-500/40 rounded"),y(l,"class","flex flex-row justify-between"),y(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(z,M){D(z,e,M),b(e,l),b(l,s),b(l,i),b(l,r),b(r,u),b(r,o),b(r,h),b(r,m),b(r,_),b(l,c),b(l,f),b(e,v);for(let L=0;L<P.length;L+=1)P[L]&&P[L].m(e,null);k||(I=[A(f,"click",t[4]),A(e,"click",t[5])],k=!0)},p(z,[M]){if(M&2&&a!==(a=z[1].seed+"")&&Re(o,a),M&2&&g!==(g=z[1].weight+"")&&Re(m,g),M&2){R=Me(z[1].skills);let L;for(L=0;L<R.length;L+=1){const V=Ht(z,R,L);P[L]?P[L].p(V,M):(P[L]=Xt(V),P[L].c(),P[L].m(e,null))}for(;L<P.length;L+=1)P[L].d(1);P.length=R.length}},i:Qe,o:Qe,d(z){z&&w(e),st(P,z),k=!1,Ze(I)}}}function _s(t,e,l){let{highlight:s}=e,{set:n}=e,{jewel:i}=e,{conqueror:r}=e;const u=()=>El(i,r,[n]),a=()=>s(n.seed,n.skills.map(o=>o.passive));return t.$$set=o=>{"highlight"in o&&l(0,s=o.highlight),"set"in o&&l(1,n=o.set),"jewel"in o&&l(2,i=o.jewel),"conqueror"in o&&l(3,r=o.conqueror)},[s,n,i,r,u,a]}class zl extends nt{constructor(e){super(),rt(this,e,_s,ms,it,{highlight:0,set:1,jewel:2,conqueror:3})}}const It={AUTO:"auto",START:"start",CENTER:"center",END:"end"},We={HORIZONTAL:"horizontal",VERTICAL:"vertical"},_t={OBSERVED:0,REQUESTED:1},gs={[We.VERTICAL]:"top",[We.HORIZONTAL]:"left"},Gt={[We.VERTICAL]:"scrollTop",[We.HORIZONTAL]:"scrollLeft"};class ps{constructor({itemSize:e,itemCount:l,estimatedItemSize:s}){this.itemSize=e,this.itemCount=l,this.estimatedItemSize=s,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:l,estimatedItemSize:s}){l!=null&&(this.itemCount=l),s!=null&&(this.estimatedItemSize=s),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:l}=this;return typeof l=="function"?l(e):Array.isArray(l)?l[e]:l}computeTotalSizeAndPositionData(){let e=0;for(let l=0;l<this.itemCount;l++){const s=this.getSize(l),n=e;e+=s,this.itemSizeAndPositionData[l]={offset:n,size:s}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const l=this.getSizeAndPositionOfLastMeasuredItem();let s=l.offset+l.size;for(let n=this.lastMeasuredIndex+1;n<=e;n++){const i=this.getSize(n);if(i==null||isNaN(i))throw Error(`Invalid size returned for index ${n} of value ${i}`);this.itemSizeAndPositionData[n]={offset:s,size:i},s+=i}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=It.START,containerSize:l,currentOffset:s,targetIndex:n}){if(l<=0)return 0;const i=this.getSizeAndPositionForIndex(n),r=i.offset,u=r-l+i.size;let a;switch(e){case It.END:a=u;break;case It.CENTER:a=r-(l-i.size)/2;break;case It.START:a=r;break;default:a=Math.max(u,Math.min(r,s))}const o=this.getTotalSize();return Math.max(0,Math.min(o-l,a))}getVisibleRange({containerSize:e=0,offset:l,overscanCount:s}){if(this.getTotalSize()===0)return{};const i=l+e;let r=this.findNearestItem(l);if(r===void 0)throw Error(`Invalid offset ${l} specified`);const u=this.getSizeAndPositionForIndex(r);l=u.offset+u.size;let a=r;for(;l<i&&a<this.itemCount-1;)a++,l+=this.getSizeAndPositionForIndex(a).size;return s&&(r=Math.max(0,r-s),a=Math.min(a+s,this.itemCount-1)),{start:r,stop:a}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const l=this.getSizeAndPositionOfLastMeasuredItem(),s=Math.max(0,this.lastMeasuredIndex);return l.offset>=e?this.binarySearch({high:s,low:0,offset:e}):this.exponentialSearch({index:s,offset:e})}binarySearch({low:e,high:l,offset:s}){let n=0,i=0;for(;e<=l;){if(n=e+Math.floor((l-e)/2),i=this.getSizeAndPositionForIndex(n).offset,i===s)return n;i<s?e=n+1:i>s&&(l=n-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:l}){let s=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<l;)e+=s,s*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:l})}}const vs=t=>({}),Wt=t=>({});function Qt(t,e,l){const s=t.slice();return s[37]=e[l],s}const bs=t=>({style:t[0]&4,index:t[0]&4}),Zt=t=>({style:t[37].style,index:t[37].index}),ws=t=>({}),xt=t=>({});function $t(t,e){let l,s;const n=e[21].item,i=gt(n,e,e[20],Zt);return{key:t,first:null,c(){l=Se(),i&&i.c(),this.h()},l(r){l=Se(),i&&i.l(r),this.h()},h(){this.first=l},m(r,u){D(r,l,u),i&&i.m(r,u),s=!0},p(r,u){e=r,i&&i.p&&(!s||u[0]&1048580)&&pt(i,n,e,e[20],s?bt(n,e[20],u,bs):vt(e[20]),Zt)},i(r){s||(F(i,r),s=!0)},o(r){G(i,r),s=!1},d(r){r&&w(l),i&&i.d(r)}}}function Ss(t){let e,l,s,n=[],i=new Map,r,u;const a=t[21].header,o=gt(a,t,t[20],xt);let h=Me(t[2]);const g=c=>c[0]?c[0](c[37].index):c[37].index;for(let c=0;c<h.length;c+=1){let f=Qt(t,h,c),d=g(f);i.set(d,n[c]=$t(d,f))}const m=t[21].footer,_=gt(m,t,t[20],Wt);return{c(){e=T("div"),o&&o.c(),l=J(),s=T("div");for(let c=0;c<n.length;c+=1)n[c].c();r=J(),_&&_.c(),this.h()},l(c){e=C(c,"DIV",{class:!0,style:!0});var f=O(e);o&&o.l(f),l=q(f),s=C(f,"DIV",{class:!0,style:!0});var d=O(s);for(let v=0;v<n.length;v+=1)n[v].l(d);d.forEach(w),r=q(f),_&&_.l(f),f.forEach(w),this.h()},h(){y(s,"class","virtual-list-inner svelte-1d4hv8l"),y(s,"style",t[4]),y(e,"class","virtual-list-wrapper svelte-1d4hv8l"),y(e,"style",t[3])},m(c,f){D(c,e,f),o&&o.m(e,null),b(e,l),b(e,s);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(s,null);b(e,r),_&&_.m(e,null),t[22](e),u=!0},p(c,f){o&&o.p&&(!u||f[0]&1048576)&&pt(o,a,c,c[20],u?bt(a,c[20],f,ws):vt(c[20]),xt),f[0]&1048581&&(h=Me(c[2]),Ve(),n=Vl(n,f,g,1,c,h,i,s,jl,$t,null,Qt),je()),(!u||f[0]&16)&&y(s,"style",c[4]),_&&_.p&&(!u||f[0]&1048576)&&pt(_,m,c,c[20],u?bt(m,c[20],f,vs):vt(c[20]),Wt),(!u||f[0]&8)&&y(e,"style",c[3])},i(c){if(!u){F(o,c);for(let f=0;f<h.length;f+=1)F(n[f]);F(_,c),u=!0}},o(c){G(o,c);for(let f=0;f<n.length;f+=1)G(n[f]);G(_,c),u=!1},d(c){c&&w(e),o&&o.d(c);for(let f=0;f<n.length;f+=1)n[f].d();_&&_.d(c),t[22](null)}}}const ks=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function Is(t,e,l){let{$$slots:s={},$$scope:n}=e,{height:i}=e,{width:r="100%"}=e,{itemCount:u}=e,{itemSize:a}=e,{estimatedItemSize:o=null}=e,{stickyIndices:h=null}=e,{getKey:g=null}=e,{scrollDirection:m=We.VERTICAL}=e,{scrollOffset:_=null}=e,{scrollToIndex:c=null}=e,{scrollToAlignment:f=null}=e,{scrollToBehaviour:d="instant"}=e,{overscanCount:v=3}=e;const k=Il(),I=new ps({itemCount:u,itemSize:a,estimatedItemSize:U()});let R=!1,P,z=[],M={offset:_||c!=null&&z.length&&Ce(c)||0,scrollChangeReason:_t.REQUESTED},L=M,V={scrollToIndex:c,scrollToAlignment:f,scrollOffset:_,itemCount:u,itemSize:a,estimatedItemSize:o},j={},B="",W="";Te(),kl(()=>{l(18,R=!0),P.addEventListener("scroll",ze,ks),_!=null?re(_):c!=null&&re(Ce(c))}),At(()=>{R&&P.removeEventListener("scroll",ze)});function Q(){if(!R)return;const N=V.scrollToIndex!==c||V.scrollToAlignment!==f,p=V.itemCount!==u||V.itemSize!==a||V.estimatedItemSize!==o;p&&(I.updateConfig({itemSize:a,itemCount:u,estimatedItemSize:U()}),ee()),V.scrollOffset!==_?l(19,M={offset:_||0,scrollChangeReason:_t.REQUESTED}):typeof c=="number"&&(N||p)&&l(19,M={offset:Ce(c,f,u),scrollChangeReason:_t.REQUESTED}),V={scrollToIndex:c,scrollToAlignment:f,scrollOffset:_,itemCount:u,itemSize:a,estimatedItemSize:o}}function he(){if(!R)return;const{offset:N,scrollChangeReason:p}=M;(L.offset!==N||L.scrollChangeReason!==p)&&Te(),L.offset!==N&&p===_t.REQUESTED&&re(N),L=M}function Te(){const{offset:N}=M,{start:p,stop:Z}=I.getVisibleRange({containerSize:m===We.VERTICAL?i:r,offset:N,overscanCount:v});let ae=[];const se=I.getTotalSize();m===We.VERTICAL?(l(3,B=`height:${i}px;width:${r};`),l(4,W=`flex-direction:column;height:${se}px;`)):(l(3,B=`height:${i};width:${r}px`),l(4,W=`min-height:100%;width:${se}px;`));const de=h!=null&&h.length!==0;if(de)for(let te=0;te<h.length;te++){const pe=h[te];ae.push({index:pe,style:ie(pe,!0)})}if(p!==void 0&&Z!==void 0){for(let te=p;te<=Z;te++)de&&h.includes(te)||ae.push({index:te,style:ie(te,!1)});k("itemsUpdated",{start:p,end:Z})}l(2,z=ae)}function re(N){"scroll"in P?P.scroll({[gs[m]]:N,behavior:d}):l(1,P[Gt[m]]=N,P)}function ee(N=0){j={},I.resetItem(N),Te()}function Ce(N,p=f,Z=u){return(N<0||N>=Z)&&(N=0),I.getUpdatedOffsetForIndex({align:p,containerSize:m===We.VERTICAL?i:r,currentOffset:M.offset||0,targetIndex:N})}function ze(N){const p=ke();p<0||M.offset===p||N.target!==P||(l(19,M={offset:p,scrollChangeReason:_t.OBSERVED}),k("afterScroll",{offset:p,event:N}))}function ke(){return P[Gt[m]]}function U(){return o||typeof a=="number"&&a||50}function ie(N,p){if(j[N])return j[N];const{size:Z,offset:ae}=I.getSizeAndPositionForIndex(N);let se;return m===We.VERTICAL?(se=`left:0;width:100%;height:${Z}px;`,p?se+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ae}px;margin-bottom:${-(ae+Z)}px;`:se+=`position:absolute;top:${ae}px;`):(se=`top:0;width:${Z}px;`,p?se+=`position:sticky;z-index:1;left:0;margin-left:${ae}px;margin-right:${-(ae+Z)}px;`:se+=`position:absolute;height:100%;left:${ae}px;`),j[N]=se}function ne(N){lt[N?"unshift":"push"](()=>{P=N,l(1,P)})}return t.$$set=N=>{"height"in N&&l(5,i=N.height),"width"in N&&l(6,r=N.width),"itemCount"in N&&l(7,u=N.itemCount),"itemSize"in N&&l(8,a=N.itemSize),"estimatedItemSize"in N&&l(9,o=N.estimatedItemSize),"stickyIndices"in N&&l(10,h=N.stickyIndices),"getKey"in N&&l(0,g=N.getKey),"scrollDirection"in N&&l(11,m=N.scrollDirection),"scrollOffset"in N&&l(12,_=N.scrollOffset),"scrollToIndex"in N&&l(13,c=N.scrollToIndex),"scrollToAlignment"in N&&l(14,f=N.scrollToAlignment),"scrollToBehaviour"in N&&l(15,d=N.scrollToBehaviour),"overscanCount"in N&&l(16,v=N.overscanCount),"$$scope"in N&&l(20,n=N.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&Q(),t.$$.dirty[0]&524288&&he(),t.$$.dirty[0]&263264&&R&&ee(0)},[g,P,z,B,W,i,r,u,a,o,h,m,_,c,f,d,v,ee,R,M,n,s,ne]}class Ml extends nt{constructor(e){super(),rt(this,e,Is,Ss,it,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function el(t,e,l){const s=t.slice();return s[9]=e[l],s}function ys(t){let e,l,s;return l=new Ml({props:{height:"auto",overscanCount:15,itemCount:t[0].raw.length,itemSize:t[0].raw.map(t[6]),$$slots:{item:[Ts,({style:n,index:i})=>({12:n,13:i}),({style:n,index:i})=>(n?4096:0)|(i?8192:0)]},$$scope:{ctx:t}}}),{c(){e=T("div"),Je(l.$$.fragment),this.h()},l(n){e=C(n,"DIV",{class:!0});var i=O(e);qe(l.$$.fragment,i),i.forEach(w),this.h()},h(){y(e,"class","mt-4 flex flex-col overflow-auto")},m(n,i){D(n,e,i),Ue(l,e,null),s=!0},p(n,i){const r={};i&1&&(r.itemCount=n[0].raw.length),i&1&&(r.itemSize=n[0].raw.map(n[6])),i&28699&&(r.$$scope={dirty:i,ctx:n}),l.$set(r)},i(n){s||(F(l.$$.fragment,n),s=!0)},o(n){G(l.$$.fragment,n),s=!1},d(n){n&&w(e),Be(l)}}}function Es(t){let e,l,s=Me(Object.keys(t[0].grouped).map(t[7]).sort(sl).reverse()),n=[];for(let r=0;r<s.length;r+=1)n[r]=ll(el(t,s,r));const i=r=>G(n[r],1,1,()=>{n[r]=null});return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=C(r,"DIV",{class:!0});var u=O(e);for(let a=0;a<n.length;a+=1)n[a].l(u);u.forEach(w),this.h()},h(){y(e,"class","flex flex-col overflow-auto")},m(r,u){D(r,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);l=!0},p(r,u){if(u&12411){s=Me(Object.keys(r[0].grouped).map(r[7]).sort(sl).reverse());let a;for(a=0;a<s.length;a+=1){const o=el(r,s,a);n[a]?(n[a].p(o,u),F(n[a],1)):(n[a]=ll(o),n[a].c(),F(n[a],1),n[a].m(e,null))}for(Ve(),a=s.length;a<n.length;a+=1)i(a);je()}},i(r){if(!l){for(let u=0;u<s.length;u+=1)F(n[u]);l=!0}},o(r){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)G(n[u]);l=!1},d(r){r&&w(e),st(n,r)}}}function Ts(t){let e,l,s,n;return l=new zl({props:{set:t[0].raw[t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=T("div"),Je(l.$$.fragment),this.h()},l(i){e=C(i,"DIV",{slot:!0,style:!0});var r=O(e);qe(l.$$.fragment,r),r.forEach(w),this.h()},h(){y(e,"slot","item"),y(e,"style",s=t[12])},m(i,r){D(i,e,r),Ue(l,e,null),n=!0},p(i,r){const u={};r&8193&&(u.set=i[0].raw[i[13]]),r&2&&(u.highlight=i[1]),r&8&&(u.jewel=i[3]),r&16&&(u.conqueror=i[4]),l.$set(u),(!n||r&4096&&s!==(s=i[12]))&&y(e,"style",s)},i(i){n||(F(l.$$.fragment,i),n=!0)},o(i){G(l.$$.fragment,i),n=!1},d(i){i&&w(e),Be(l)}}}function tl(t){let e,l,s,n;return l=new Ml({props:{height:"auto",overscanCount:10,itemCount:t[0].grouped[t[9]].length,itemSize:t[0].grouped[t[9]].map(t[6]),$$slots:{item:[Cs,({style:i,index:r})=>({12:i,13:r}),({style:i,index:r})=>(i?4096:0)|(r?8192:0)]},$$scope:{ctx:t}}}),{c(){e=T("div"),Je(l.$$.fragment),s=J(),this.h()},l(i){e=C(i,"DIV",{class:!0});var r=O(e);qe(l.$$.fragment,r),s=q(r),r.forEach(w),this.h()},h(){y(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(i,r){D(i,e,r),Ue(l,e,null),b(e,s),n=!0},p(i,r){const u={};r&1&&(u.itemCount=i[0].grouped[i[9]].length),r&1&&(u.itemSize=i[0].grouped[i[9]].map(i[6])),r&28699&&(u.$$scope={dirty:r,ctx:i}),l.$set(u)},i(i){n||(F(l.$$.fragment,i),n=!0)},o(i){G(l.$$.fragment,i),n=!1},d(i){i&&w(e),Be(l)}}}function Cs(t){let e,l,s,n;return l=new zl({props:{set:t[0].grouped[t[9]][t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=T("div"),Je(l.$$.fragment),this.h()},l(i){e=C(i,"DIV",{slot:!0,style:!0});var r=O(e);qe(l.$$.fragment,r),r.forEach(w),this.h()},h(){y(e,"slot","item"),y(e,"style",s=t[12])},m(i,r){D(i,e,r),Ue(l,e,null),n=!0},p(i,r){const u={};r&8193&&(u.set=i[0].grouped[i[9]][i[13]]),r&2&&(u.highlight=i[1]),r&8&&(u.jewel=i[3]),r&16&&(u.conqueror=i[4]),l.$set(u),(!n||r&4096&&s!==(s=i[12]))&&y(e,"style",s)},i(i){n||(F(l.$$.fragment,i),n=!0)},o(i){G(l.$$.fragment,i),n=!1},d(i){i&&w(e),Be(l)}}}function ll(t){let e,l,s=t[9]+"",n,i,r=t[9]>1?"es":"",u,a,o=t[0].grouped[t[9]].length+"",h,g,m,_,c=t[5]===t[9]?"^":"V",f,d,v,k,I,R;function P(){return t[8](t[9])}let z=t[5]===t[9]&&tl(t);return{c(){e=T("button"),l=T("span"),n=Y(s),i=Y(" Match"),u=Y(r),a=Y(" ["),h=Y(o),g=Y("]"),m=J(),_=T("span"),f=Y(c),d=J(),z&&z.c(),v=Se(),this.h()},l(M){e=C(M,"BUTTON",{class:!0});var L=O(e);l=C(L,"SPAN",{});var V=O(l);n=X(V,s),i=X(V," Match"),u=X(V,r),a=X(V," ["),h=X(V,o),g=X(V,"]"),V.forEach(w),m=q(L),_=C(L,"SPAN",{});var j=O(_);f=X(j,c),j.forEach(w),L.forEach(w),d=q(M),z&&z.l(M),v=Se(),this.h()},h(){y(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(M,L){D(M,e,L),b(e,l),b(l,n),b(l,i),b(l,u),b(l,a),b(l,h),b(l,g),b(e,m),b(e,_),b(_,f),D(M,d,L),z&&z.m(M,L),D(M,v,L),k=!0,I||(R=A(e,"click",P),I=!0)},p(M,L){t=M,(!k||L&1)&&s!==(s=t[9]+"")&&Re(n,s),(!k||L&1)&&r!==(r=t[9]>1?"es":"")&&Re(u,r),(!k||L&1)&&o!==(o=t[0].grouped[t[9]].length+"")&&Re(h,o),(!k||L&33)&&c!==(c=t[5]===t[9]?"^":"V")&&Re(f,c),t[5]===t[9]?z?(z.p(t,L),L&33&&F(z,1)):(z=tl(t),z.c(),F(z,1),z.m(v.parentNode,v)):z&&(Ve(),G(z,1,1,()=>{z=null}),je())},i(M){k||(F(z),k=!0)},o(M){G(z),k=!1},d(M){M&&(w(e),w(d),w(v)),z&&z.d(M),I=!1,R()}}}function As(t){let e,l,s,n;const i=[Es,ys],r=[];function u(a,o){return a[2]?0:1}return e=u(t),l=r[e]=i[e](t),{c(){l.c(),s=Se()},l(a){l.l(a),s=Se()},m(a,o){r[e].m(a,o),D(a,s,o),n=!0},p(a,[o]){let h=e;e=u(a),e===h?r[e].p(a,o):(Ve(),G(r[h],1,1,()=>{r[h]=null}),je(),l=r[e],l?l.p(a,o):(l=r[e]=i[e](a),l.c()),F(l,1),l.m(s.parentNode,s))},i(a){n||(F(l),n=!0)},o(a){G(l),n=!1},d(a){a&&w(s),r[e].d(a)}}}const sl=(t,e)=>t-e;function Rs(t,e,l){let{searchResults:s}=e,{highlight:n}=e,{groupResults:i=!0}=e,{jewel:r}=e,{conqueror:u}=e;const a=m=>8+48+m.skills.reduce((_,c)=>_+32+Object.keys(c.stats).length*24,0);let o="";const h=m=>parseInt(m),g=m=>l(5,o=o===m?"":m);return t.$$set=m=>{"searchResults"in m&&l(0,s=m.searchResults),"highlight"in m&&l(1,n=m.highlight),"groupResults"in m&&l(2,i=m.groupResults),"jewel"in m&&l(3,r=m.jewel),"conqueror"in m&&l(4,u=m.conqueror)},[s,n,i,r,u,o,a,h,g]}class Ps extends nt{constructor(e){super(),rt(this,e,Rs,As,it,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}const et={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};const{window:zs}=Cl;function il(t,e,l){const s=t.slice();return s[77]=e[l],s[78]=e,s[79]=l,s}function nl(t,e,l){const s=t.slice();return s[70]=e[l],s}function rl(t,e,l){const s=t.slice();return s[70]=e[l],s}function al(t,e,l){const s=t.slice();return s[70]=e[l],s}function Ms(t){let e,l="<div></div> <div></div> <div></div>",s,n;return{c(){e=T("button"),e.innerHTML=l,this.h()},l(i){e=C(i,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-rq6e1l"&&(e.innerHTML=l),this.h()},h(){y(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(i,r){D(i,e,r),s||(n=A(e,"click",t[65]),s=!0)},p:Qe,i:Qe,o:Qe,d(i){i&&w(e),s=!1,n()}}}function Ls(t){let e,l,s,n,i,r="<div></div> <div></div> <div></div>",u,a,o,h,g,m,_,c;function f(P,z){return P[13]?Os:Ns}let d=f(t),v=d(t),k=t[17]&&ol(t),I=!t[13]&&fl(t),R=t[17]&&t[13]&&Sl(t);return{c(){e=T("div"),l=T("div"),s=T("div"),n=T("div"),i=T("button"),i.innerHTML=r,u=J(),a=T("h3"),v.c(),o=J(),k&&k.c(),h=J(),I&&I.c(),g=J(),R&&R.c(),this.h()},l(P){e=C(P,"DIV",{class:!0});var z=O(e);l=C(z,"DIV",{class:!0});var M=O(l);s=C(M,"DIV",{class:!0});var L=O(s);n=C(L,"DIV",{class:!0});var V=O(n);i=C(V,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-mvbl10"&&(i.innerHTML=r),u=q(V),a=C(V,"H3",{class:!0});var j=O(a);v.l(j),j.forEach(w),V.forEach(w),o=q(L),k&&k.l(L),L.forEach(w),h=q(M),I&&I.l(M),g=q(M),R&&R.l(M),M.forEach(w),z.forEach(w),this.h()},h(){y(i,"class","burger-menu mr-3"),y(a,"class","flex-grow"),y(n,"class","flex flex-row items-center"),y(s,"class","flex flex-row justify-between mb-2"),y(l,"class","p-4 max-h-screen flex flex-col"),y(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(P,z){D(P,e,z),b(e,l),b(l,s),b(s,n),b(n,i),b(n,u),b(n,a),v.m(a,null),b(s,o),k&&k.m(s,null),b(l,h),I&&I.m(l,null),b(l,g),R&&R.m(l,null),m=!0,_||(c=A(i,"click",t[44]),_=!0)},p(P,z){d!==(d=f(P))&&(v.d(1),v=d(P),v&&(v.c(),v.m(a,null))),P[17]?k?k.p(P,z):(k=ol(P),k.c(),k.m(s,null)):k&&(k.d(1),k=null),P[13]?I&&(Ve(),G(I,1,1,()=>{I=null}),je()):I?(I.p(P,z),z[0]&8192&&F(I,1)):(I=fl(P),I.c(),F(I,1),I.m(l,g)),P[17]&&P[13]?R?(R.p(P,z),z[0]&139264&&F(R,1)):(R=Sl(P),R.c(),F(R,1),R.m(l,null)):R&&(Ve(),G(R,1,1,()=>{R=null}),je())},i(P){m||(F(I),F(R),m=!0)},o(P){G(I),G(R),m=!1},d(P){P&&w(e),v.d(),k&&k.d(),I&&I.d(),R&&R.d(),_=!1,c()}}}function Ns(t){let e,l="Timeless Jewel",s,n,i="- NOT FULLY UP TO DATE FOR 3.25";return{c(){e=T("span"),e.textContent=l,s=J(),n=T("span"),n.textContent=i,this.h()},l(r){e=C(r,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-ddxked"&&(e.textContent=l),s=q(r),n=C(r,"SPAN",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-1yjqxe7"&&(n.textContent=i),this.h()},h(){y(n,"class","text-red-500")},m(r,u){D(r,e,u),D(r,s,u),D(r,n,u)},d(r){r&&(w(e),w(s),w(n))}}}function Os(t){let e,l="Results";return{c(){e=T("span"),e.textContent=l},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-rq68qg"&&(e.textContent=l)},m(s,n){D(s,e,n)},d(s){s&&w(e)}}}function ol(t){let e,l,s,n=t[13]?"Config":"Results",i,r,u,a=t[13]&&ul(t);return{c(){e=T("div"),a&&a.c(),l=J(),s=T("button"),i=Y(n),this.h()},l(o){e=C(o,"DIV",{class:!0});var h=O(e);a&&a.l(h),l=q(h),s=C(h,"BUTTON",{class:!0});var g=O(s);i=X(g,n),g.forEach(w),h.forEach(w),this.h()},h(){y(s,"class","bg-neutral-100/20 px-4 p-1 rounded"),y(e,"class","flex flex-row")},m(o,h){D(o,e,h),a&&a.m(e,null),b(e,l),b(e,s),b(s,i),r||(u=A(s,"click",t[47]),r=!0)},p(o,h){o[13]?a?a.p(o,h):(a=ul(o),a.c(),a.m(e,l)):a&&(a.d(1),a=null),h[0]&8192&&n!==(n=o[13]?"Config":"Results")&&Re(i,n)},d(o){o&&w(e),a&&a.d(),r=!1,u()}}}function ul(t){let e,l,s,n,i,r,u,a,o;return{c(){e=T("button"),l=Y("Trade"),n=J(),i=T("button"),r=Y("Grouped"),this.h()},l(h){e=C(h,"BUTTON",{class:!0});var g=O(e);l=X(g,"Trade"),g.forEach(w),n=q(h),i=C(h,"BUTTON",{class:!0});var m=O(i);r=X(m,"Grouped"),m.forEach(w),this.h()},h(){y(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=s=!t[17],y(i,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-9h6fz6"),i.disabled=u=!t[17],be(i,"grouped",t[5])},m(h,g){D(h,e,g),b(e,l),D(h,n,g),D(h,i,g),b(i,r),a||(o=[A(e,"click",t[45]),A(i,"click",t[46])],a=!0)},p(h,g){g[0]&131072&&s!==(s=!h[17])&&(e.disabled=s),g[0]&131072&&u!==(u=!h[17])&&(i.disabled=u),g[0]&32&&be(i,"grouped",h[5])},d(h){h&&(w(e),w(n),w(i)),a=!1,Ze(o)}}}function fl(t){let e,l,s,n,i;function r(o){t[48](o)}let u={items:t[25]};t[0]!==void 0&&(u.value=t[0]),e=new yt({props:u}),lt.push(()=>Mt(e,"value",r)),e.$on("change",t[31]);let a=t[0]&&cl(t);return{c(){Je(e.$$.fragment),s=J(),a&&a.c(),n=Se()},l(o){qe(e.$$.fragment,o),s=q(o),a&&a.l(o),n=Se()},m(o,h){Ue(e,o,h),D(o,s,h),a&&a.m(o,h),D(o,n,h),i=!0},p(o,h){const g={};!l&&h[0]&1&&(l=!0,g.value=o[0],Rt(()=>l=!1)),e.$set(g),o[0]?a?(a.p(o,h),h[0]&1&&F(a,1)):(a=cl(o),a.c(),F(a,1),a.m(n.parentNode,n)):a&&(Ve(),G(a,1,1,()=>{a=null}),je())},i(o){i||(F(e.$$.fragment,o),F(a),i=!0)},o(o){G(e.$$.fragment,o),G(a),i=!1},d(o){o&&(w(s),w(n)),Be(e,o),a&&a.d(o)}}}function cl(t){let e,l,s="Conqueror",n,i,r,u,a=t[1]&&Object.keys(le.TimelessJewelConquerors[t[0].value]).indexOf(t[1].value)>=0,o,h;function g(c){t[49](c)}let m={items:t[24]};t[1]!==void 0&&(m.value=t[1]),i=new yt({props:m}),lt.push(()=>Mt(i,"value",g)),i.$on("change",t[26]);let _=a&&hl(t);return{c(){e=T("div"),l=T("h3"),l.textContent=s,n=J(),Je(i.$$.fragment),u=J(),_&&_.c(),o=Se(),this.h()},l(c){e=C(c,"DIV",{class:!0});var f=O(e);l=C(f,"H3",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-1jyt00f"&&(l.textContent=s),n=q(f),qe(i.$$.fragment,f),f.forEach(w),u=q(c),_&&_.l(c),o=Se(),this.h()},h(){y(l,"class","mb-2"),y(e,"class","mt-4")},m(c,f){D(c,e,f),b(e,l),b(e,n),Ue(i,e,null),D(c,u,f),_&&_.m(c,f),D(c,o,f),h=!0},p(c,f){const d={};f[0]&16777216&&(d.items=c[24]),!r&&f[0]&2&&(r=!0,d.value=c[1],Rt(()=>r=!1)),i.$set(d),f[0]&3&&(a=c[1]&&Object.keys(le.TimelessJewelConquerors[c[0].value]).indexOf(c[1].value)>=0),a?_?(_.p(c,f),f[0]&3&&F(_,1)):(_=hl(c),_.c(),F(_,1),_.m(o.parentNode,o)):_&&(Ve(),G(_,1,1,()=>{_=null}),je())},i(c){h||(F(i.$$.fragment,c),F(_),h=!0)},o(c){G(i.$$.fragment,c),G(_),h=!1},d(c){c&&(w(e),w(u),w(o)),Be(i),_&&_.d(c)}}}function hl(t){let e,l,s="Enter Seed",n,i,r="Select Stats",u,a,o,h,g,m,_,c;const f=[Vs,Ds],d=[];function v(I,R){return I[10]==="seed"?0:I[10]==="stats"?1:-1}~(a=v(t))&&(o=d[a]=f[a](t));let k=!t[3]&&wl();return{c(){e=T("div"),l=T("button"),l.textContent=s,n=J(),i=T("button"),i.textContent=r,u=J(),o&&o.c(),h=J(),k&&k.c(),g=Se(),this.h()},l(I){e=C(I,"DIV",{class:!0});var R=O(e);l=C(R,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-l4qe05"&&(l.textContent=s),n=q(R),i=C(R,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-1d9agkx"&&(i.textContent=r),R.forEach(w),u=q(I),o&&o.l(I),h=q(I),k&&k.l(I),g=Se(),this.h()},h(){y(l,"class","selection-button svelte-9h6fz6"),be(l,"selected",t[10]==="seed"),y(i,"class","selection-button svelte-9h6fz6"),be(i,"selected",t[10]==="stats"),y(e,"class","mt-4 w-full flex flex-row")},m(I,R){D(I,e,R),b(e,l),b(e,n),b(e,i),D(I,u,R),~a&&d[a].m(I,R),D(I,h,R),k&&k.m(I,R),D(I,g,R),m=!0,_||(c=[A(l,"click",t[50]),A(i,"click",t[51])],_=!0)},p(I,R){(!m||R[0]&1024)&&be(l,"selected",I[10]==="seed"),(!m||R[0]&1024)&&be(i,"selected",I[10]==="stats");let P=a;a=v(I),a===P?~a&&d[a].p(I,R):(o&&(Ve(),G(d[P],1,1,()=>{d[P]=null}),je()),~a?(o=d[a],o?o.p(I,R):(o=d[a]=f[a](I),o.c()),F(o,1),o.m(h.parentNode,h)):o=null),I[3]?k&&(k.d(1),k=null):k||(k=wl(),k.c(),k.m(g.parentNode,g))},i(I){m||(F(o),m=!0)},o(I){G(o),m=!1},d(I){I&&(w(e),w(u),w(h),w(g)),~a&&d[a].d(I),k&&k.d(I),_=!1,Ze(c)}}}function Ds(t){let e,l,s="Add Stat",n,i,r,u=Object.keys(t[4]).length>0,a,o,h={items:t[22]};i=new yt({props:h}),t[59](i),i.$on("change",t[29]);let g=u&&dl(t);return{c(){e=T("div"),l=T("h3"),l.textContent=s,n=J(),Je(i.$$.fragment),r=J(),g&&g.c(),a=Se(),this.h()},l(m){e=C(m,"DIV",{class:!0});var _=O(e);l=C(_,"H3",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-8jbl9c"&&(l.textContent=s),n=q(_),qe(i.$$.fragment,_),_.forEach(w),r=q(m),g&&g.l(m),a=Se(),this.h()},h(){y(l,"class","mb-2"),y(e,"class","mt-4")},m(m,_){D(m,e,_),b(e,l),b(e,n),Ue(i,e,null),D(m,r,_),g&&g.m(m,_),D(m,a,_),o=!0},p(m,_){const c={};_[0]&4194304&&(c.items=m[22]),i.$set(c),_[0]&16&&(u=Object.keys(m[4]).length>0),u?g?g.p(m,_):(g=dl(m),g.c(),g.m(a.parentNode,a)):g&&(g.d(1),g=null)},i(m){o||(F(i.$$.fragment,m),o=!0)},o(m){G(i.$$.fragment,m),o=!1},d(m){m&&(w(e),w(r),w(a)),t[59](null),Be(i),g&&g.d(m)}}}function Vs(t){let e,l,s="Seed",n,i,r,u,a,o,h,g,m,_,c=(t[2]<le.TimelessJewelSeedRanges[t[0].value].Min||t[2]>le.TimelessJewelSeedRanges[t[0].value].Max)&&_l(t),f=t[2]>=le.TimelessJewelSeedRanges[t[0].value].Min&&t[2]<=le.TimelessJewelSeedRanges[t[0].value].Max&&gl(t);return{c(){e=T("div"),l=T("h3"),l.textContent=s,n=J(),i=T("input"),a=J(),c&&c.c(),o=J(),f&&f.c(),h=Se(),this.h()},l(d){e=C(d,"DIV",{class:!0});var v=O(e);l=C(v,"H3",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-12wsj4m"&&(l.textContent=s),n=q(v),i=C(v,"INPUT",{type:!0,min:!0,max:!0}),a=q(v),c&&c.l(v),v.forEach(w),o=q(d),f&&f.l(d),h=Se(),this.h()},h(){y(l,"class","mb-2"),y(i,"type","number"),y(i,"min",r=le.TimelessJewelSeedRanges[t[0].value].Min),y(i,"max",u=le.TimelessJewelSeedRanges[t[0].value].Max),y(e,"class","mt-4")},m(d,v){D(d,e,v),b(e,l),b(e,n),b(e,i),$e(i,t[2]),b(e,a),c&&c.m(e,null),D(d,o,v),f&&f.m(d,v),D(d,h,v),g=!0,m||(_=[A(i,"input",t[52]),A(i,"blur",t[26])],m=!0)},p(d,v){(!g||v[0]&1&&r!==(r=le.TimelessJewelSeedRanges[d[0].value].Min))&&y(i,"min",r),(!g||v[0]&1&&u!==(u=le.TimelessJewelSeedRanges[d[0].value].Max))&&y(i,"max",u),v[0]&4&&xe(i.value)!==d[2]&&$e(i,d[2]),d[2]<le.TimelessJewelSeedRanges[d[0].value].Min||d[2]>le.TimelessJewelSeedRanges[d[0].value].Max?c?c.p(d,v):(c=_l(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null),d[2]>=le.TimelessJewelSeedRanges[d[0].value].Min&&d[2]<=le.TimelessJewelSeedRanges[d[0].value].Max?f?(f.p(d,v),v[0]&5&&F(f,1)):(f=gl(d),f.c(),F(f,1),f.m(h.parentNode,h)):f&&(Ve(),G(f,1,1,()=>{f=null}),je())},i(d){g||(F(f),g=!0)},o(d){G(f),g=!1},d(d){d&&(w(e),w(o),w(h)),c&&c.d(),f&&f.d(d),m=!1,Ze(_)}}}function dl(t){let e,l,s,n,i,r="Min Total Weight:",u,a,o,h,g,m,_,c,f,d,v,k,I,R,P,z,M,L,V,j,B,W,Q,he,Te,re=Me(Object.keys(t[4])),ee=[];for(let U=0;U<re.length;U+=1)ee[U]=ml(il(t,re,U));function Ce(U,ie){return U[15]?Js:js}let ze=Ce(t),ke=ze(t);return{c(){e=T("div");for(let U=0;U<ee.length;U+=1)ee[U].c();l=J(),s=T("div"),n=T("div"),i=T("div"),i.textContent=r,u=J(),a=T("input"),o=J(),h=T("div"),g=T("div"),m=T("button"),_=Y("Select All"),f=J(),d=T("button"),v=Y("Notables"),I=J(),R=T("button"),P=Y("Passives"),M=J(),L=T("button"),V=Y("Deselect"),B=J(),W=T("div"),Q=T("button"),ke.c(),this.h()},l(U){e=C(U,"DIV",{class:!0});var ie=O(e);for(let Le=0;Le<ee.length;Le+=1)ee[Le].l(ie);ie.forEach(w),l=q(U),s=C(U,"DIV",{class:!0});var ne=O(s);n=C(ne,"DIV",{class:!0});var N=O(n);i=C(N,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-ydmsqj"&&(i.textContent=r),u=q(N),a=C(N,"INPUT",{type:!0,min:!0}),N.forEach(w),ne.forEach(w),o=q(U),h=C(U,"DIV",{class:!0});var p=O(h);g=C(p,"DIV",{class:!0});var Z=O(g);m=C(Z,"BUTTON",{class:!0});var ae=O(m);_=X(ae,"Select All"),ae.forEach(w),f=q(Z),d=C(Z,"BUTTON",{class:!0});var se=O(d);v=X(se,"Notables"),se.forEach(w),I=q(Z),R=C(Z,"BUTTON",{class:!0});var de=O(R);P=X(de,"Passives"),de.forEach(w),M=q(Z),L=C(Z,"BUTTON",{class:!0});var te=O(L);V=X(te,"Deselect"),te.forEach(w),Z.forEach(w),B=q(p),W=C(p,"DIV",{class:!0});var pe=O(W);Q=C(pe,"BUTTON",{class:!0});var me=O(Q);ke.l(me),me.forEach(w),pe.forEach(w),p.forEach(w),this.h()},h(){y(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),y(i,"class","mr-2 min-w-fit"),y(a,"type","number"),y(a,"min","0"),y(n,"class","flex flex-row items-center"),y(s,"class","flex flex-col mt-2"),y(m,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),m.disabled=c=t[15]||t[11].size==0,y(d,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),d.disabled=k=t[15]||t[11].size==0,y(R,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),R.disabled=z=t[15]||t[11].size==0,y(L,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),L.disabled=j=t[15]||t[11].size>=t[9].length,y(g,"class","flex flex-row"),y(Q,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),Q.disabled=t[15],y(W,"class","flex flex-row mt-2"),y(h,"class","flex flex-col mt-4")},m(U,ie){D(U,e,ie);for(let ne=0;ne<ee.length;ne+=1)ee[ne]&&ee[ne].m(e,null);D(U,l,ie),D(U,s,ie),b(s,n),b(n,i),b(n,u),b(n,a),$e(a,t[14]),D(U,o,ie),D(U,h,ie),b(h,g),b(g,m),b(m,_),b(g,f),b(g,d),b(d,v),b(g,I),b(g,R),b(R,P),b(g,M),b(g,L),b(L,V),b(h,B),b(h,W),b(W,Q),ke.m(Q,null),he||(Te=[A(a,"input",t[63]),A(m,"click",t[34]),A(d,"click",t[35]),A(R,"click",t[36]),A(L,"click",t[37]),A(Q,"click",t[64])],he=!0)},p(U,ie){if(ie[0]&1073741840){re=Me(Object.keys(U[4]));let ne;for(ne=0;ne<re.length;ne+=1){const N=il(U,re,ne);ee[ne]?ee[ne].p(N,ie):(ee[ne]=ml(N),ee[ne].c(),ee[ne].m(e,null))}for(;ne<ee.length;ne+=1)ee[ne].d(1);ee.length=re.length}ie[0]&16384&&xe(a.value)!==U[14]&&$e(a,U[14]),ie[0]&34816&&c!==(c=U[15]||U[11].size==0)&&(m.disabled=c),ie[0]&34816&&k!==(k=U[15]||U[11].size==0)&&(d.disabled=k),ie[0]&34816&&z!==(z=U[15]||U[11].size==0)&&(R.disabled=z),ie[0]&35328&&j!==(j=U[15]||U[11].size>=U[9].length)&&(L.disabled=j),ze===(ze=Ce(U))&&ke?ke.p(U,ie):(ke.d(1),ke=ze(U),ke&&(ke.c(),ke.m(Q,null))),ie[0]&32768&&(Q.disabled=U[15])},d(U){U&&(w(e),w(l),w(s),w(o),w(h)),st(ee,U),ke.d(),he=!1,Ze(Te)}}}function ml(t){let e,l,s,n="-",i,r,u=ft(t[4][t[77]].id)+"",a,o,h,g,m,_="Min:",c,f,d,v,k,I="Weight:",R,P,z,M,L;function V(){return t[60](t[77])}function j(){t[61].call(f,t[77])}function B(){t[62].call(P,t[77])}return{c(){e=T("div"),l=T("div"),s=T("button"),s.textContent=n,i=J(),r=T("span"),a=Y(u),o=J(),h=T("div"),g=T("div"),m=T("div"),m.textContent=_,c=J(),f=T("input"),d=J(),v=T("div"),k=T("div"),k.textContent=I,R=J(),P=T("input"),z=J(),this.h()},l(W){e=C(W,"DIV",{class:!0});var Q=O(e);l=C(Q,"DIV",{});var he=O(l);s=C(he,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-bzfob2"&&(s.textContent=n),i=q(he),r=C(he,"SPAN",{});var Te=O(r);a=X(Te,u),Te.forEach(w),he.forEach(w),o=q(Q),h=C(Q,"DIV",{class:!0});var re=O(h);g=C(re,"DIV",{class:!0});var ee=O(g);m=C(ee,"DIV",{class:!0,"data-svelte-h":!0}),ge(m)!=="svelte-1m3cjix"&&(m.textContent=_),c=q(ee),f=C(ee,"INPUT",{type:!0,min:!0}),ee.forEach(w),d=q(re),v=C(re,"DIV",{class:!0});var Ce=O(v);k=C(Ce,"DIV",{class:!0,"data-svelte-h":!0}),ge(k)!=="svelte-nrzr8j"&&(k.textContent=I),R=q(Ce),P=C(Ce,"INPUT",{type:!0,min:!0}),Ce.forEach(w),re.forEach(w),z=q(Q),Q.forEach(w),this.h()},h(){y(s,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),y(m,"class","mr-2"),y(f,"type","number"),y(f,"min","0"),y(g,"class","mr-4 flex flex-row items-center"),y(k,"class","mr-2"),y(P,"type","number"),y(P,"min","0"),y(v,"class","flex flex-row items-center"),y(h,"class","mt-2 flex flex-row"),y(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(W,Q){D(W,e,Q),b(e,l),b(l,s),b(l,i),b(l,r),b(r,a),b(e,o),b(e,h),b(h,g),b(g,m),b(g,c),b(g,f),$e(f,t[4][t[77]].min),b(h,d),b(h,v),b(v,k),b(v,R),b(v,P),$e(P,t[4][t[77]].weight),b(e,z),M||(L=[A(s,"click",V),A(f,"input",j),A(P,"input",B)],M=!0)},p(W,Q){t=W,Q[0]&16&&u!==(u=ft(t[4][t[77]].id)+"")&&Re(a,u),Q[0]&16&&xe(f.value)!==t[4][t[77]].min&&$e(f,t[4][t[77]].min),Q[0]&16&&xe(P.value)!==t[4][t[77]].weight&&$e(P,t[4][t[77]].weight)},d(W){W&&w(e),M=!1,Ze(L)}}}function js(t){let e;return{c(){e=Y("Search")},l(l){e=X(l,"Search")},m(l,s){D(l,e,s)},p:Qe,d(l){l&&w(e)}}}function Js(t){let e,l,s=le.TimelessJewelSeedRanges[t[0].value].Max+"",n;return{c(){e=Y(t[16]),l=Y(" / "),n=Y(s)},l(i){e=X(i,t[16]),l=X(i," / "),n=X(i,s)},m(i,r){D(i,e,r),D(i,l,r),D(i,n,r)},p(i,r){r[0]&65536&&Re(e,i[16]),r[0]&1&&s!==(s=le.TimelessJewelSeedRanges[i[0].value].Max+"")&&Re(n,s)},d(i){i&&(w(e),w(l),w(n))}}}function _l(t){let e,l,s=le.TimelessJewelSeedRanges[t[0].value].Min+"",n,i,r=le.TimelessJewelSeedRanges[t[0].value].Max+"",u;return{c(){e=T("div"),l=Y("Seed must be between "),n=Y(s),i=Y(`
                      and `),u=Y(r),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=O(e);l=X(o,"Seed must be between "),n=X(o,s),i=X(o,`
                      and `),u=X(o,r),o.forEach(w),this.h()},h(){y(e,"class","mt-2")},m(a,o){D(a,e,o),b(e,l),b(e,n),b(e,i),b(e,u)},p(a,o){o[0]&1&&s!==(s=le.TimelessJewelSeedRanges[a[0].value].Min+"")&&Re(n,s),o[0]&1&&r!==(r=le.TimelessJewelSeedRanges[a[0].value].Max+"")&&Re(u,r)},d(a){a&&w(e)}}}function gl(t){let e,l,s,n="Sort Order",i,r,u,a,o,h,g="Colors",m,_,c,f="Split",d,v,k,I,R;function P(j){t[53](j)}let z={items:t[40]};t[6]!==void 0&&(z.value=t[6]),r=new yt({props:z}),lt.push(()=>Mt(r,"value",P));function M(j,B){return j[8]?qs:Us}let L=M(t),V=L(t);return{c(){e=T("div"),l=T("div"),s=T("h3"),s.textContent=n,i=J(),Je(r.$$.fragment),a=J(),o=T("div"),h=T("button"),h.textContent=g,m=J(),_=T("div"),c=T("button"),c.textContent=f,d=J(),V.c(),v=Se(),this.h()},l(j){e=C(j,"DIV",{class:!0});var B=O(e);l=C(B,"DIV",{class:!0});var W=O(l);s=C(W,"H3",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-6mxxgp"&&(s.textContent=n),i=q(W),qe(r.$$.fragment,W),W.forEach(w),a=q(B),o=C(B,"DIV",{class:!0});var Q=O(o);h=C(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(h)!=="svelte-79cf57"&&(h.textContent=g),Q.forEach(w),m=q(B),_=C(B,"DIV",{class:!0});var he=O(_);c=C(he,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(c)!=="svelte-1jp80zt"&&(c.textContent=f),he.forEach(w),B.forEach(w),d=q(j),V.l(j),v=Se(),this.h()},h(){y(s,"class","mb-2"),y(l,"class","flex-grow"),y(h,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),be(h,"selected",t[7]),y(o,"class","ml-2"),y(c,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),be(c,"selected",t[8]),y(_,"class","ml-2"),y(e,"class","flex flex-row mt-4 items-end")},m(j,B){D(j,e,B),b(e,l),b(l,s),b(l,i),Ue(r,l,null),b(e,a),b(e,o),b(o,h),b(e,m),b(e,_),b(_,c),D(j,d,B),V.m(j,B),D(j,v,B),k=!0,I||(R=[A(h,"click",t[54]),A(c,"click",t[55])],I=!0)},p(j,B){const W={};!u&&B[0]&64&&(u=!0,W.value=j[6],Rt(()=>u=!1)),r.$set(W),(!k||B[0]&128)&&be(h,"selected",j[7]),(!k||B[0]&256)&&be(c,"selected",j[8]),L===(L=M(j))&&V?V.p(j,B):(V.d(1),V=L(j),V&&(V.c(),V.m(v.parentNode,v)))},i(j){k||(F(r.$$.fragment,j),k=!0)},o(j){G(r.$$.fragment,j),k=!1},d(j){j&&(w(e),w(d),w(v)),Be(r),V.d(j),I=!1,Ze(R)}}}function qs(t){let e,l,s="Notables",n,i,r,u,a="Smalls",o,h,g=Me(t[39](t[38](t[23],t[7],"notables"),t[6].value)),m=[];for(let f=0;f<g.length;f+=1)m[f]=pl(rl(t,g,f));let _=Me(t[39](t[38](t[23],t[7],"passives"),t[6].value)),c=[];for(let f=0;f<_.length;f+=1)c[f]=vl(nl(t,_,f));return{c(){e=T("div"),l=T("h3"),l.textContent=s,n=J(),i=T("ul");for(let f=0;f<m.length;f+=1)m[f].c();r=J(),u=T("h3"),u.textContent=a,o=J(),h=T("ul");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=C(f,"DIV",{class:!0});var d=O(e);l=C(d,"H3",{"data-svelte-h":!0}),ge(l)!=="svelte-uhg2bi"&&(l.textContent=s),n=q(d),i=C(d,"UL",{class:!0});var v=O(i);for(let I=0;I<m.length;I+=1)m[I].l(v);v.forEach(w),r=q(d),u=C(d,"H3",{class:!0,"data-svelte-h":!0}),ge(u)!=="svelte-mdvksr"&&(u.textContent=a),o=q(d),h=C(d,"UL",{class:!0});var k=O(h);for(let I=0;I<c.length;I+=1)c[I].l(k);k.forEach(w),d.forEach(w),this.h()},h(){y(i,"class","mt-1 svelte-9h6fz6"),be(i,"rainbow",t[7]),y(u,"class","mt-2"),y(h,"class","mt-1 svelte-9h6fz6"),be(h,"rainbow",t[7]),y(e,"class","overflow-auto mt-4")},m(f,d){D(f,e,d),b(e,l),b(e,n),b(e,i);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(i,null);b(e,r),b(e,u),b(e,o),b(e,h);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(h,null)},p(f,d){if(d[0]&8388804|d[1]&388){g=Me(f[39](f[38](f[23],f[7],"notables"),f[6].value));let v;for(v=0;v<g.length;v+=1){const k=rl(f,g,v);m[v]?m[v].p(k,d):(m[v]=pl(k),m[v].c(),m[v].m(i,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=g.length}if(d[0]&128&&be(i,"rainbow",f[7]),d[0]&8388804|d[1]&388){_=Me(f[39](f[38](f[23],f[7],"passives"),f[6].value));let v;for(v=0;v<_.length;v+=1){const k=nl(f,_,v);c[v]?c[v].p(k,d):(c[v]=vl(k),c[v].c(),c[v].m(h,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=_.length}d[0]&128&&be(h,"rainbow",f[7])},d(f){f&&w(e),st(m,f),st(c,f)}}}function Us(t){let e,l=Me(t[39](t[38](t[23],t[7],"all"),t[6].value)),s=[];for(let n=0;n<l.length;n+=1)s[n]=bl(al(t,l,n));return{c(){e=T("ul");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=C(n,"UL",{class:!0});var i=O(e);for(let r=0;r<s.length;r+=1)s[r].l(i);i.forEach(w),this.h()},h(){y(e,"class","mt-4 overflow-auto svelte-9h6fz6"),be(e,"rainbow",t[7])},m(n,i){D(n,e,i);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(n,i){if(i[0]&8388804|i[1]&388){l=Me(n[39](n[38](n[23],n[7],"all"),n[6].value));let r;for(r=0;r<l.length;r+=1){const u=al(n,l,r);s[r]?s[r].p(u,i):(s[r]=bl(u),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}i[0]&128&&be(e,"rainbow",n[7])},d(n){n&&w(e),st(s,n)}}}function pl(t){let e,l,s,n=t[70].passives.length+"",i,r,u,a,o,h=t[70].stat+"",g,m,_;function c(){return t[57](t[70])}return{c(){e=T("li"),l=T("span"),s=Y("("),i=Y(n),r=Y(")"),u=J(),a=T("span"),o=new Pt(!1),g=J(),this.h()},l(f){e=C(f,"LI",{class:!0});var d=O(e);l=C(d,"SPAN",{class:!0});var v=O(l);s=X(v,"("),i=X(v,n),r=X(v,")"),v.forEach(w),u=q(d),a=C(d,"SPAN",{class:!0});var k=O(a);o=zt(k,!1),k.forEach(w),g=q(d),d.forEach(w),this.h()},h(){y(l,"class","font-bold"),be(l,"text-white",(et[t[70].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(f,d){D(f,e,d),b(e,l),b(l,s),b(l,i),b(l,r),b(e,u),b(e,a),o.m(h,a),b(e,g),m||(_=A(e,"click",c),m=!0)},p(f,d){t=f,d[0]&8388800&&n!==(n=t[70].passives.length+"")&&Re(i,n),d[0]&8388800|d[1]&384&&be(l,"text-white",(et[t[70].id]||0)<3),d[0]&8388800&&h!==(h=t[70].stat+"")&&o.p(h)},d(f){f&&w(e),m=!1,_()}}}function vl(t){let e,l,s,n=t[70].passives.length+"",i,r,u,a,o,h=t[70].stat+"",g,m,_;function c(){return t[58](t[70])}return{c(){e=T("li"),l=T("span"),s=Y("("),i=Y(n),r=Y(")"),u=J(),a=T("span"),o=new Pt(!1),g=J(),this.h()},l(f){e=C(f,"LI",{class:!0});var d=O(e);l=C(d,"SPAN",{class:!0});var v=O(l);s=X(v,"("),i=X(v,n),r=X(v,")"),v.forEach(w),u=q(d),a=C(d,"SPAN",{class:!0});var k=O(a);o=zt(k,!1),k.forEach(w),g=q(d),d.forEach(w),this.h()},h(){y(l,"class","font-bold"),be(l,"text-white",(et[t[70].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(f,d){D(f,e,d),b(e,l),b(l,s),b(l,i),b(l,r),b(e,u),b(e,a),o.m(h,a),b(e,g),m||(_=A(e,"click",c),m=!0)},p(f,d){t=f,d[0]&8388800&&n!==(n=t[70].passives.length+"")&&Re(i,n),d[0]&8388800|d[1]&384&&be(l,"text-white",(et[t[70].id]||0)<3),d[0]&8388800&&h!==(h=t[70].stat+"")&&o.p(h)},d(f){f&&w(e),m=!1,_()}}}function bl(t){let e,l,s,n=t[70].passives.length+"",i,r,u,a,o,h=t[70].stat+"",g,m,_;function c(){return t[56](t[70])}return{c(){e=T("li"),l=T("span"),s=Y("("),i=Y(n),r=Y(")"),u=J(),a=T("span"),o=new Pt(!1),g=J(),this.h()},l(f){e=C(f,"LI",{class:!0});var d=O(e);l=C(d,"SPAN",{class:!0});var v=O(l);s=X(v,"("),i=X(v,n),r=X(v,")"),v.forEach(w),u=q(d),a=C(d,"SPAN",{class:!0});var k=O(a);o=zt(k,!1),k.forEach(w),g=q(d),d.forEach(w),this.h()},h(){y(l,"class","font-bold"),be(l,"text-white",(et[t[70].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(f,d){D(f,e,d),b(e,l),b(l,s),b(l,i),b(l,r),b(e,u),b(e,a),o.m(h,a),b(e,g),m||(_=A(e,"click",c),m=!0)},p(f,d){t=f,d[0]&8388800&&n!==(n=t[70].passives.length+"")&&Re(i,n),d[0]&8388800|d[1]&384&&be(l,"text-white",(et[t[70].id]||0)<3),d[0]&8388800&&h!==(h=t[70].stat+"")&&o.p(h)},d(f){f&&w(e),m=!1,_()}}}function wl(t){let e,l="Click on a jewel socket";return{c(){e=T("h2"),e.textContent=l,this.h()},l(s){e=C(s,"H2",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-4ztcob"&&(e.textContent=l),this.h()},h(){y(e,"class","mt-4")},m(s,n){D(s,e,n)},d(s){s&&w(e)}}}function Sl(t){let e,l;return e=new Ps({props:{searchResults:t[17],groupResults:t[5],highlight:t[33],jewel:t[18],conqueror:t[19]}}),{c(){Je(e.$$.fragment)},l(s){qe(e.$$.fragment,s)},m(s,n){Ue(e,s,n),l=!0},p(s,n){const i={};n[0]&131072&&(i.searchResults=s[17]),n[0]&32&&(i.groupResults=s[5]),n[0]&262144&&(i.jewel=s[18]),n[0]&524288&&(i.conqueror=s[19]),e.$set(i)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){G(e.$$.fragment,s),l=!1},d(s){Be(e,s)}}}function Bs(t){let e,l,s,n,i='<a href="https://github.com/Vilsol/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a>',r;const u=[Ls,Ms],a=[];function o(h,g){return h[21]?1:0}return e=o(t),l=a[e]=u[e](t),{c(){l.c(),s=J(),n=T("div"),n.innerHTML=i,this.h()},l(h){l.l(h),s=q(h),n=C(h,"DIV",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-1xcazan"&&(n.innerHTML=i),this.h()},h(){y(n,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(h,g){a[e].m(h,g),D(h,s,g),D(h,n,g),r=!0},p(h,g){let m=e;e=o(h),e===m?a[e].p(h,g):(Ve(),G(a[m],1,1,()=>{a[m]=null}),je(),l=a[e],l?l.p(h,g):(l=a[e]=u[e](h),l.c()),F(l,1),l.m(s.parentNode,s))},i(h){r||(F(l),r=!0)},o(h){G(l),r=!1},d(h){h&&(w(s),w(n)),a[e].d(h)}}}function Fs(t){var i,r;let e,l,s,n;return e=new ds({props:{clickNode:t[28],circledNode:t[3],selectedJewel:(i=t[0])==null?void 0:i.value,selectedConqueror:(r=t[1])==null?void 0:r.value,highlighted:t[20],seed:t[2],highlightJewels:!t[3],disabled:[...t[11]],$$slots:{default:[Bs]},$$scope:{ctx:t}}}),{c(){Je(e.$$.fragment)},l(u){qe(e.$$.fragment,u)},m(u,a){Ue(e,u,a),l=!0,s||(n=A(zs,"paste",t[41]),s=!0)},p(u,a){var h,g;const o={};a[0]&8&&(o.circledNode=u[3]),a[0]&1&&(o.selectedJewel=(h=u[0])==null?void 0:h.value),a[0]&2&&(o.selectedConqueror=(g=u[1])==null?void 0:g.value),a[0]&1048576&&(o.highlighted=u[20]),a[0]&4&&(o.seed=u[2]),a[0]&8&&(o.highlightJewels=!u[3]),a[0]&2048&&(o.disabled=[...u[11]]),a[0]&32505855|a[2]&262144&&(o.$$scope={dirty:a,ctx:u}),e.$set(o)},i(u){l||(F(e.$$.fragment,u),l=!0)},o(u){G(e.$$.fragment,u),l=!1},d(u){Be(e,u),s=!1,n()}}}function Hs(t,e,l){let s,n,i,r,u,a;yl(t,Xl,E=>l(66,a=E));const o=a.url.searchParams,h=Object.keys(le.TimelessJewels).map(E=>({value:parseInt(E),label:le.TimelessJewels[E]}));let g=o.has("jewel")?h.find(E=>E.value==o.get("jewel")):void 0,m=o.has("conqueror")?{value:o.get("conqueror"),label:o.get("conqueror")}:void 0,_=o.has("seed")?parseInt(o.get("seed")):0,c=o.has("location")?parseInt(o.get("location")):void 0,f={};o.has("stat")&&o.getAll("stat").forEach(E=>{const $=parseInt(E);l(4,f[$]={weight:1,min:0,id:$},f)});let d=o.has("mode")?o.get("mode"):"";const v=()=>{const E=new URL(window.location.origin+window.location.pathname);g&&E.searchParams.append("jewel",g.value.toString()),m&&E.searchParams.append("conqueror",m.value),_&&E.searchParams.append("seed",_.toString()),c&&E.searchParams.append("location",c.toString()),d&&E.searchParams.append("mode",d),Object.keys(f).forEach($=>{E.searchParams.append("stat",$.toString())}),Jl(E.toString())},k=E=>{l(10,d=E),v()};let I=new Set;const R=E=>{E.isJewelSocket?(l(3,c=E.skill),v()):E.isMastery||(I.has(E.skill)?I.delete(E.skill):I.add(E.skill),l(11,I))},P=JSON.parse(le.PossibleStats);let z;const M=E=>{l(4,f[E.detail.value]={weight:1,min:0,id:E.detail.value},f),l(4,f),z.handleClear(),v()},L=E=>{delete f[E],l(4,f),v()},V=()=>{l(4,f={}),v()};let j=!1,B=0,W=!1,Q=0,he,Te=1,re="";const ee=()=>{if(!c)return;l(18,Te=g.value),l(19,re=m.value),l(15,W=!0),l(17,he=void 0);const E={jewel:g.value,conqueror:m.value,nodes:n.filter($=>!I.has($.skill)).map($=>le.TreeToPassive[$.skill]).filter($=>!!$).map($=>$.Index),stats:Object.keys(f).map($=>f[$]),minTotalWeight:B};Kl.search(E,Yl($=>l(16,Q=$))).then($=>{l(17,he=$),l(15,W=!1),l(13,j=!0)})};let Ce=[];const ze=(E,$)=>{l(2,_=E),l(20,Ce=$),v()},ke=()=>{I.clear(),l(11,I)},U=()=>{n.forEach(E=>{E.isNotable&&I.delete(E.skill)}),l(11,I)},ie=()=>{n.forEach(E=>{E.isNotable||I.delete(E.skill)}),l(11,I)},ne=()=>{n.filter(E=>!E.isJewelSocket&&!E.isMastery).forEach(E=>I.add(E.skill)),l(11,I)};let N=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const p={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},Z=E=>(Object.keys(p).forEach($=>{const ve=p[$];E=E.replace(new RegExp(`(${$}(?:$|\\s))|((?:^|\\s)${$})`,"gi"),`<span style='color: ${ve}; font-weight: bold'>$1$2</span>`)}),E),ae=(E,$,ve)=>{const we={};return E.forEach(_e=>{Ye.nodes[_e.node].isKeystone||ve!=="all"&&(ve==="notables"&&!Ye.nodes[_e.node].isNotable||ve==="passives"&&Ye.nodes[_e.node].isNotable)||(_e.result.AlternatePassiveSkill&&_e.result.AlternatePassiveSkill.StatsKeys&&_e.result.AlternatePassiveSkill.StatsKeys.forEach(Ae=>{we[Ae]=[...we[Ae]||[],_e.node]}),_e.result.AlternatePassiveAdditionInformations&&_e.result.AlternatePassiveAdditionInformations.forEach(Ae=>{Ae.AlternatePassiveAddition.StatsKeys&&Ae.AlternatePassiveAddition.StatsKeys.forEach(Ge=>{we[Ge]=[...we[Ge]||[],_e.node]})}))}),Object.keys(we).map(_e=>{const Ae=ft(parseInt(_e));return{stat:$?Z(Ae):Ae,rawStat:Ae,id:_e,passives:we[_e]}})},se=(E,$)=>{switch($){case"alphabet":return E.sort((ve,we)=>ve.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(we.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return E.sort((ve,we)=>we.passives.length-ve.passives.length);case"rarity":return E.sort((ve,we)=>P[g.value][ve.id]-P[g.value][we.id]);case"value":return E.sort((ve,we)=>{const _e=et[ve.id]||0,Ae=et[we.id]||0;return _e!=Ae?Ae-_e:P[g.value][ve.id]-P[g.value][we.id]})}return E},de=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let te=de.find(E=>E.value===(localStorage.getItem("sortOrder")||"count")),pe=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",me=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const Le=E=>{if(E.type!=="paste")return;const ve=(E.clipboardData||window.clipboardData).getData("text").split(`
`);if(ve.length<14)return;const we=h.find(Ge=>Ge.label===ve[2]);if(!we)return;let _e,Ae;for(let Ge=10;Ge<ve.length;Ge++)if(Ae=Object.keys(le.TimelessJewelConquerors[we.value]).find(wt=>ve[Ge].indexOf(wt)>=0),Ae){const wt=/(\d+)/.exec(ve[Ge]);if(wt.length===0)continue;_e=parseInt(wt[1]);break}!Ae||!_e||(l(13,j=!1),l(10,d="seed"),l(2,_=_e),l(0,g=we),l(1,m={label:Ae,value:Ae}),v())};let ce=!1;const K=()=>l(21,ce=!0),x=()=>El(Te,re,he.raw),oe=()=>l(5,N=!N),ue=()=>l(13,j=!j);function Fe(E){g=E,l(0,g)}function Oe(E){m=E,l(1,m)}const Xe=()=>k("seed"),fe=()=>k("stats");function Ie(){_=xe(this.value),l(2,_)}function He(E){te=E,l(6,te)}const De=()=>l(7,pe=!pe),Pe=()=>l(8,me=!me),Ne=E=>ze(_,E.passives),at=E=>ze(_,E.passives),ct=E=>ze(_,E.passives);function ht(E){lt[E?"unshift":"push"](()=>{z=E,l(12,z)})}const ot=E=>L(f[E].id);function ut(E){f[E].min=xe(this.value),l(4,f)}function Et(E){f[E].weight=xe(this.value),l(4,f)}function S(){B=xe(this.value),l(14,B)}const dt=()=>ee(),mt=()=>l(21,ce=!1);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(24,s=g?Object.keys(le.TimelessJewelConquerors[g.value]).map(E=>({value:E,label:E})):[]),t.$$.dirty[0]&8&&l(9,n=c?Hl(Ye.nodes[c]).filter(E=>!E.isJewelSocket&&!E.isMastery):[]),t.$$.dirty[0]&519&&l(23,i=!_||!g||!m||Object.keys(le.TimelessJewelConquerors[g.value]).indexOf(m.value)<0?[]:n.filter(E=>!!le.TreeToPassive[E.skill]).map(E=>({node:E.skill,result:Tl.Calculate(le.TreeToPassive[E.skill].Index,_,g.value,m.value)}))),t.$$.dirty[0]&1&&l(43,r=g?Object.keys(P[g.value]):[]),t.$$.dirty[0]&16|t.$$.dirty[1]&4096&&l(22,u=r.map(E=>{const $=parseInt(E);return{label:ft($),value:$}}).filter(E=>!(E.value in f))),t.$$.dirty[0]&32&&localStorage.setItem("groupResults",N?"true":"false"),t.$$.dirty[0]&64&&localStorage.setItem("sortOrder",te.value),t.$$.dirty[0]&128&&localStorage.setItem("colored",pe?"true":"false"),t.$$.dirty[0]&256&&localStorage.setItem("split",me?"true":"false")},[g,m,_,c,f,N,te,pe,me,n,d,I,z,j,B,W,Q,he,Te,re,Ce,ce,u,i,s,h,v,k,R,M,L,V,ee,ze,ke,U,ie,ne,ae,se,de,Le,p,r,K,x,oe,ue,Fe,Oe,Xe,fe,Ie,He,De,Pe,Ne,at,ct,ht,ot,ut,Et,S,dt,mt]}class $s extends nt{constructor(e){super(),rt(this,e,Hs,Fs,it,{colorKeys:42},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[42]}}export{$s as component};
