import{s as x,e as b,i as p,d as v,r as T,u as U,v as k,w as j,f as E,g as R,x as C,j as I,y as _}from"../chunks/scheduler.a4661fe7.js";import{S,i as D,t as y,c as O,a as w,g as P}from"../chunks/index.0ccbc0e6.js";import{a as A}from"../chunks/paths.3d84579d.js";import{l as N,s as V}from"../chunks/worker.3485415b.js";import{i as L}from"../chunks/index.098253ec.js";const M=!0,J=Object.freeze(Object.defineProperty({__proto__:null,prerender:M},Symbol.toStringTag,{value:"Module"}));(()=>{const o=()=>{const r=new Error("not implemented");return r.code="ENOSYS",r};if(!globalThis.fs){let r="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(e,n){r+=m.decode(n);const i=r.lastIndexOf(`
`);return i!=-1&&(console.log(r.substring(0,i)),r=r.substring(i+1)),n.length},write(e,n,i,a,u,f){if(i!==0||a!==n.length||u!==null){f(o());return}const g=this.writeSync(e,n);f(null,g)},chmod(e,n,i){i(o())},chown(e,n,i,a){a(o())},close(e,n){n(o())},fchmod(e,n,i){i(o())},fchown(e,n,i,a){a(o())},fstat(e,n){n(o())},fsync(e,n){n(null)},ftruncate(e,n,i){i(o())},lchown(e,n,i,a){a(o())},link(e,n,i){i(o())},lstat(e,n){n(o())},mkdir(e,n,i){i(o())},open(e,n,i,a){a(o())},read(e,n,i,a,u,f){f(o())},readdir(e,n){n(o())},readlink(e,n){n(o())},rename(e,n,i){i(o())},rmdir(e,n){n(o())},stat(e,n){n(o())},symlink(e,n,i){i(o())},truncate(e,n,i){i(o())},unlink(e,n){n(o())},utimes(e,n,i,a){a(o())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw o()},pid:-1,ppid:-1,umask(){throw o()},cwd(){throw o()},chdir(){throw o()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const l=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=t=>{t!==0&&console.warn("exit code:",t)},this._exitPromise=new Promise(t=>{this._resolveExitPromise=t}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const r=(t,s)=>{this.mem.setUint32(t+0,s,!0),this.mem.setUint32(t+4,Math.floor(s/4294967296),!0)},e=t=>{const s=this.mem.getUint32(t+0,!0),c=this.mem.getInt32(t+4,!0);return s+c*4294967296},n=t=>{const s=this.mem.getFloat64(t,!0);if(s===0)return;if(!isNaN(s))return s;const c=this.mem.getUint32(t,!0);return this._values[c]},i=(t,s)=>{if(typeof s=="number"&&s!==0){if(isNaN(s)){this.mem.setUint32(t+4,2146959360,!0),this.mem.setUint32(t,0,!0);return}this.mem.setFloat64(t,s,!0);return}if(s===void 0){this.mem.setFloat64(t,0,!0);return}let h=this._ids.get(s);h===void 0&&(h=this._idPool.pop(),h===void 0&&(h=this._values.length),this._values[h]=s,this._goRefCounts[h]=0,this._ids.set(s,h)),this._goRefCounts[h]++;let d=0;switch(typeof s){case"object":s!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(t+4,2146959360|d,!0),this.mem.setUint32(t,h,!0)},a=t=>{const s=e(t+0),c=e(t+8);return new Uint8Array(this._inst.exports.mem.buffer,s,c)},u=t=>{const s=e(t+0),c=e(t+8),h=new Array(c);for(let d=0;d<c;d++)h[d]=n(s+d*8);return h},f=t=>{const s=e(t+0),c=e(t+8);return m.decode(new DataView(this._inst.exports.mem.buffer,s,c))},g=Date.now()-performance.now();this.importObject={_gotest:{add:(t,s)=>t+s},gojs:{"runtime.wasmExit":t=>{t>>>=0;const s=this.mem.getInt32(t+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(s)},"runtime.wasmWrite":t=>{t>>>=0;const s=e(t+8),c=e(t+16),h=this.mem.getInt32(t+24,!0);fs.writeSync(s,new Uint8Array(this._inst.exports.mem.buffer,c,h))},"runtime.resetMemoryDataView":t=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":t=>{t>>>=0,r(t+8,(g+performance.now())*1e6)},"runtime.walltime":t=>{t>>>=0;const s=new Date().getTime();r(t+8,s/1e3),this.mem.setInt32(t+16,s%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":t=>{t>>>=0;const s=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(s,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(s);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},e(t+8))),this.mem.setInt32(t+16,s,!0)},"runtime.clearTimeoutEvent":t=>{t>>>=0;const s=this.mem.getInt32(t+8,!0);clearTimeout(this._scheduledTimeouts.get(s)),this._scheduledTimeouts.delete(s)},"runtime.getRandomData":t=>{t>>>=0,crypto.getRandomValues(a(t+8))},"syscall/js.finalizeRef":t=>{t>>>=0;const s=this.mem.getUint32(t+8,!0);if(this._goRefCounts[s]--,this._goRefCounts[s]===0){const c=this._values[s];this._values[s]=null,this._ids.delete(c),this._idPool.push(s)}},"syscall/js.stringVal":t=>{t>>>=0,i(t+24,f(t+8))},"syscall/js.valueGet":t=>{t>>>=0;const s=Reflect.get(n(t+8),f(t+16));t=this._inst.exports.getsp()>>>0,i(t+32,s)},"syscall/js.valueSet":t=>{t>>>=0,Reflect.set(n(t+8),f(t+16),n(t+32))},"syscall/js.valueDelete":t=>{t>>>=0,Reflect.deleteProperty(n(t+8),f(t+16))},"syscall/js.valueIndex":t=>{t>>>=0,i(t+24,Reflect.get(n(t+8),e(t+16)))},"syscall/js.valueSetIndex":t=>{t>>>=0,Reflect.set(n(t+8),e(t+16),n(t+24))},"syscall/js.valueCall":t=>{t>>>=0;try{const s=n(t+8),c=Reflect.get(s,f(t+16)),h=u(t+32),d=Reflect.apply(c,s,h);t=this._inst.exports.getsp()>>>0,i(t+56,d),this.mem.setUint8(t+64,1)}catch(s){t=this._inst.exports.getsp()>>>0,i(t+56,s),this.mem.setUint8(t+64,0)}},"syscall/js.valueInvoke":t=>{t>>>=0;try{const s=n(t+8),c=u(t+16),h=Reflect.apply(s,void 0,c);t=this._inst.exports.getsp()>>>0,i(t+40,h),this.mem.setUint8(t+48,1)}catch(s){t=this._inst.exports.getsp()>>>0,i(t+40,s),this.mem.setUint8(t+48,0)}},"syscall/js.valueNew":t=>{t>>>=0;try{const s=n(t+8),c=u(t+16),h=Reflect.construct(s,c);t=this._inst.exports.getsp()>>>0,i(t+40,h),this.mem.setUint8(t+48,1)}catch(s){t=this._inst.exports.getsp()>>>0,i(t+40,s),this.mem.setUint8(t+48,0)}},"syscall/js.valueLength":t=>{t>>>=0,r(t+16,parseInt(n(t+8).length))},"syscall/js.valuePrepareString":t=>{t>>>=0;const s=l.encode(String(n(t+8)));i(t+16,s),r(t+24,s.length)},"syscall/js.valueLoadString":t=>{t>>>=0;const s=n(t+8);a(t+16).set(s)},"syscall/js.valueInstanceOf":t=>{t>>>=0,this.mem.setUint8(t+24,n(t+8)instanceof n(t+16)?1:0)},"syscall/js.copyBytesToGo":t=>{t>>>=0;const s=a(t+8),c=n(t+32);if(!(c instanceof Uint8Array||c instanceof Uint8ClampedArray)){this.mem.setUint8(t+48,0);return}const h=c.subarray(0,s.length);s.set(h),r(t+40,h.length),this.mem.setUint8(t+48,1)},"syscall/js.copyBytesToJS":t=>{t>>>=0;const s=n(t+8),c=a(t+16);if(!(s instanceof Uint8Array||s instanceof Uint8ClampedArray)){this.mem.setUint8(t+48,0);return}const h=c.subarray(0,s.length);s.set(h),r(t+40,h.length),this.mem.setUint8(t+48,1)},debug:t=>{console.log(t)}}}}async run(r){if(!(r instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=r,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let e=4096;const n=t=>{const s=e,c=l.encode(t+"\0");return new Uint8Array(this.mem.buffer,e,c.length).set(c),e+=c.length,e%8!==0&&(e+=8-e%8),s},i=this.argv.length,a=[];this.argv.forEach(t=>{a.push(n(t))}),a.push(0),Object.keys(this.env).sort().forEach(t=>{a.push(n(`${t}=${this.env[t]}`))}),a.push(0);const f=e;a.forEach(t=>{this.mem.setUint32(e,t,!0),this.mem.setUint32(e+4,0,!0),e+=8});const g=4096+8192;if(e>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,f),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(r){const e=this;return function(){const n={id:r,this:this,args:arguments};return e._pendingEvent=n,e._resume(),n.result}}}})();function W(o){let l;const m=o[2].default,r=T(m,o,o[1],null);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,n){r&&r.m(e,n),l=!0},p(e,n){r&&r.p&&(!l||n&2)&&U(r,m,e,e[1],l?j(m,e[1],n,null):k(e[1]),null)},i(e){l||(w(r,e),l=!0)},o(e){y(r,e),l=!1},d(e){r&&r.d(e)}}}function $(o){let l,m='<div class="flex flex-col"><div class="py-10 flex flex-col justify-between"><div><h1 class="text-white mb-10 text-center">Timeless Calculator</h1> <h2 class="text-center">Loading...</h2></div></div></div>';return{c(){l=E("div"),l.innerHTML=m,this.h()},l(r){l=R(r,"DIV",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-15nyt30"&&(l.innerHTML=m),this.h()},h(){I(l,"class","flex flex-row justify-center h-screen")},m(r,e){p(r,l,e)},p:_,i:_,o:_,d(r){r&&v(l)}}}function F(o){let l,m,r,e;const n=[$,W],i=[];function a(u,f){return u[0]?0:1}return l=a(o),m=i[l]=n[l](o),{c(){m.c(),r=b()},l(u){m.l(u),r=b()},m(u,f){i[l].m(u,f),p(u,r,f),e=!0},p(u,[f]){let g=l;l=a(u),l===g?i[l].p(u,f):(P(),y(i[g],1,1,()=>{i[g]=null}),O(),m=i[l],m?m.p(u,f):(m=i[l]=n[l](u),m.c()),w(m,1),m.m(r.parentNode,r))},i(u){e||(w(m),e=!0)},o(u){y(m),e=!1},d(u){u&&v(r),i[l].d(u)}}}function G(o,l,m){let{$$slots:r={},$$scope:e}=l,n=!0;const i=new Go;return fetch(A+"/calculator.wasm").then(a=>a.arrayBuffer()).then(a=>{WebAssembly.instantiate(a,i.importObject).then(u=>{i.run(u.instance),m(0,n=!1),L(),N()}),V.boot(a)}),o.$$set=a=>{"$$scope"in a&&m(1,e=a.$$scope)},[n,e,r]}class X extends S{constructor(l){super(),D(this,l,G,F,x,{})}}export{X as component,J as universal};
